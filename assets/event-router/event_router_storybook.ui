{
  "version": "1.0.1",
  "metadata": {
    "createdAt": "2025-09-28T17:52:45.276Z",
    "canvasSize": {
      "width": 1500,
      "height": 1700
    },
    "componentCount": 8
  },
  "cssClasses": {},
  "components": [
    {
      "id": "rx-node-wju9sv",
      "type": "svg",
      "template": {
        "tag": "svg",
        "classRefs": [
          "rx-comp",
          "rx-svg",
          "rx-comp-svg-wju9sv"
        ],
        "style": {}
      },
      "layout": {
        "x": 0,
        "y": -350,
        "width": 1500,
        "height": 350
      },
      "parentId": null,
      "siblingIndex": 0,
      "createdAt": 1759081965262,
      "content": {
        "content": "Tiny Pub/Sub Bus — School Route Story\n    \n    \n    A visual analogy for EventRouter routing, perf, and orchestration\n  \n  \n  \n  \n    \n    \n    All Scenes\n    \n    \n    \n    Scene 1\n    \n    \n    Scene 2\n    \n    \n    Scene 3\n    \n    \n    Scene 4\n    \n    \n    Scene 5\n    \n    \n    Scene 6\n  \n  \n  \n  \n    \n    Legend\n    \n    \n    \n      \n        \n        \n        \n      \n      bus = publish\n    \n    \n    \n    \n      \n        \n        \n      \n      stops = subscribers\n    \n    \n    \n    \n      \n      \n      hub = conductor\n    \n    \n    \n    \n      \n        \n        \n        \n        \n      \n      lights = perf",
        "text": "Tiny Pub/Sub Bus — School Route Story\n    \n    \n    A visual analogy for EventRouter routing, perf, and orchestration\n  \n  \n  \n  \n    \n    \n    All Scenes\n    \n    \n    \n    Scene 1\n    \n    \n    Scene 2\n    \n    \n    Scene 3\n    \n    \n    Scene 4\n    \n    \n    Scene 5\n    \n    \n    Scene 6\n  \n  \n  \n  \n    \n    Legend\n    \n    \n    \n      \n        \n        \n        \n      \n      bus = publish\n    \n    \n    \n    \n      \n        \n        \n      \n      stops = subscribers\n    \n    \n    \n    \n      \n      \n      hub = conductor\n    \n    \n    \n    \n      \n        \n        \n        \n        \n      \n      lights = perf",
        "viewBox": "0 0 1500 500",
        "preserveAspectRatio": "xMidYMid meet",
        "svgMarkup": "<svg viewBox=\"0 0 1200 80\" xmlns=\"http://www.w3.org/2000/svg\">\n  <!-- Header bar background -->\n  <rect x=\"0\" y=\"0\" width=\"1200\" height=\"80\" fill=\"#87CEEB\" stroke=\"none\"></rect>\n  \n  <!-- Bottom divider line -->\n  <line x1=\"0\" y1=\"79\" x2=\"1200\" y2=\"79\" stroke=\"#6B9DC3\" stroke-width=\"1\"></line>\n  \n  <!-- Left side - Title with bus icon -->\n  <g id=\"title-section\">\n    <!-- Small bus icon -->\n    <g transform=\"translate(20, 25) scale(0.3)\">\n      <!-- Bus body -->\n      <rect x=\"0\" y=\"20\" width=\"80\" height=\"30\" rx=\"3\" ry=\"3\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"1\"></rect>\n      <!-- Bus front -->\n      <rect x=\"75\" y=\"22\" width=\"8\" height=\"26\" rx=\"4\" ry=\"4\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"1\"></rect>\n      <!-- Windows -->\n      <rect x=\"65\" y=\"25\" width=\"8\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n      <rect x=\"55\" y=\"25\" width=\"8\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n      <rect x=\"45\" y=\"25\" width=\"8\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n      <rect x=\"35\" y=\"25\" width=\"8\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n      <rect x=\"25\" y=\"25\" width=\"8\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n      <rect x=\"15\" y=\"25\" width=\"8\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n      <rect x=\"5\" y=\"25\" width=\"8\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n      <!-- Headlight -->\n      <circle cx=\"81\" cy=\"30\" r=\"2\" fill=\"#FFFF00\"></circle>\n      <!-- Wheels -->\n      <circle cx=\"15\" cy=\"52\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"></circle>\n      <circle cx=\"65\" cy=\"52\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"></circle>\n      <!-- Orange stripe -->\n      <rect x=\"0\" y=\"35\" width=\"80\" height=\"4\" fill=\"#FFA500\"></rect>\n    </g>\n    \n    <!-- Main title -->\n    <text x=\"50\" y=\"35\" font-family=\"Arial, sans-serif\" font-size=\"18\" font-weight=\"bold\" fill=\"#1E3A8A\">Tiny Pub/Sub Bus — School Route Story</text>\n    \n    <!-- Subtitle -->\n    <text x=\"50\" y=\"55\" font-family=\"Arial, sans-serif\" font-size=\"12\" fill=\"#64748B\">A visual analogy for EventRouter routing, perf, and orchestration</text>\n  </g>\n  \n  <!-- Center - Navigation tabs -->\n  <g id=\"navigation-tabs\" transform=\"translate(450, 20)\">\n    <!-- Active tab - All Scenes -->\n    <rect x=\"0\" y=\"0\" width=\"80\" height=\"30\" rx=\"15\" ry=\"15\" fill=\"#3B82F6\" stroke=\"none\"></rect>\n    <text x=\"40\" y=\"20\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"12\" font-weight=\"bold\" fill=\"#FFFFFF\">All Scenes</text>\n    \n    <!-- Inactive tabs -->\n    <rect x=\"90\" y=\"0\" width=\"60\" height=\"30\" rx=\"15\" ry=\"15\" fill=\"#FFFFFF\" stroke=\"#3B82F6\" stroke-width=\"1\"></rect>\n    <text x=\"120\" y=\"20\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"12\" fill=\"#1E3A8A\">Scene 1</text>\n    \n    <rect x=\"160\" y=\"0\" width=\"60\" height=\"30\" rx=\"15\" ry=\"15\" fill=\"#FFFFFF\" stroke=\"#3B82F6\" stroke-width=\"1\"></rect>\n    <text x=\"190\" y=\"20\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"12\" fill=\"#1E3A8A\">Scene 2</text>\n    \n    <rect x=\"230\" y=\"0\" width=\"60\" height=\"30\" rx=\"15\" ry=\"15\" fill=\"#FFFFFF\" stroke=\"#3B82F6\" stroke-width=\"1\"></rect>\n    <text x=\"260\" y=\"20\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"12\" fill=\"#1E3A8A\">Scene 3</text>\n    \n    <rect x=\"300\" y=\"0\" width=\"60\" height=\"30\" rx=\"15\" ry=\"15\" fill=\"#FFFFFF\" stroke=\"#3B82F6\" stroke-width=\"1\"></rect>\n    <text x=\"330\" y=\"20\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"12\" fill=\"#1E3A8A\">Scene 4</text>\n    \n    <rect x=\"370\" y=\"0\" width=\"60\" height=\"30\" rx=\"15\" ry=\"15\" fill=\"#FFFFFF\" stroke=\"#3B82F6\" stroke-width=\"1\"></rect>\n    <text x=\"400\" y=\"20\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"12\" fill=\"#1E3A8A\">Scene 5</text>\n    \n    <rect x=\"440\" y=\"0\" width=\"60\" height=\"30\" rx=\"15\" ry=\"15\" fill=\"#FFFFFF\" stroke=\"#3B82F6\" stroke-width=\"1\"></rect>\n    <text x=\"470\" y=\"20\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"12\" fill=\"#1E3A8A\">Scene 6</text>\n  </g>\n  \n  <!-- Right side - Legend -->\n  <g id=\"legend-section\" transform=\"translate(1000, 15)\">\n    <!-- Legend title -->\n    <text x=\"0\" y=\"15\" font-family=\"Arial, sans-serif\" font-size=\"14\" font-weight=\"bold\" fill=\"#1E3A8A\">Legend</text>\n    \n    <!-- Bus = publish -->\n    <g transform=\"translate(0, 25)\">\n      <g transform=\"scale(0.15)\">\n        <rect x=\"0\" y=\"0\" width=\"40\" height=\"15\" rx=\"2\" ry=\"2\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"1\"></rect>\n        <circle x=\"8\" y=\"17\" r=\"3\" fill=\"#333\"></circle>\n        <circle x=\"32\" y=\"17\" r=\"3\" fill=\"#333\"></circle>\n      </g>\n      <text x=\"15\" y=\"12\" font-family=\"Arial, sans-serif\" font-size=\"10\" fill=\"#1E3A8A\">bus = publish</text>\n    </g>\n    \n    <!-- Stops = subscribers -->\n    <g transform=\"translate(0, 40)\">\n      <g transform=\"scale(0.15)\">\n        <rect x=\"0\" y=\"0\" width=\"30\" height=\"20\" rx=\"2\" ry=\"2\" fill=\"#E0E7FF\" stroke=\"#3B82F6\" stroke-width=\"1\"></rect>\n        <rect x=\"2\" y=\"15\" width=\"26\" height=\"3\" fill=\"#3B82F6\"></rect>\n      </g>\n      <text x=\"15\" y=\"12\" font-family=\"Arial, sans-serif\" font-size=\"10\" fill=\"#1E3A8A\">stops = subscribers</text>\n    </g>\n    \n    <!-- Hub = conductor -->\n    <g transform=\"translate(100, 25)\">\n      <circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#E0E7FF\" stroke=\"#3B82F6\" stroke-width=\"1\"></circle>\n      <line x1=\"3\" y1=\"9\" x2=\"9\" y2=\"3\" stroke=\"#1E3A8A\" stroke-width=\"1\"></line>\n      <text x=\"15\" y=\"12\" font-family=\"Arial, sans-serif\" font-size=\"10\" fill=\"#1E3A8A\">hub = conductor</text>\n    </g>\n    \n    <!-- Lights = perf -->\n    <g transform=\"translate(100, 40)\">\n      <g transform=\"scale(0.2)\">\n        <rect x=\"0\" y=\"0\" width=\"15\" height=\"35\" rx=\"2\" ry=\"2\" fill=\"#333\"></rect>\n        <circle cx=\"7.5\" cy=\"8\" r=\"4\" fill=\"#FF0000\"></circle>\n        <circle cx=\"7.5\" cy=\"17.5\" r=\"4\" fill=\"#FFFF00\"></circle>\n        <circle cx=\"7.5\" cy=\"27\" r=\"4\" fill=\"#00FF00\"></circle>\n      </g>\n      <text x=\"15\" y=\"12\" font-family=\"Arial, sans-serif\" font-size=\"10\" fill=\"#1E3A8A\">lights = perf</text>\n    </g>\n  </g>\n</svg>\n"
      }
    },
    {
      "id": "rx-node-73eke9",
      "type": "svg",
      "template": {
        "tag": "svg",
        "classRefs": [
          "rx-comp",
          "rx-svg",
          "rx-comp-svg-73eke9"
        ],
        "style": {}
      },
      "layout": {
        "x": 0,
        "y": 50,
        "width": 750,
        "height": 400
      },
      "parentId": null,
      "siblingIndex": 0,
      "createdAt": 1759081965263,
      "content": {
        "content": "SCHOOL BUS DEPOT\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    SCHOOL BUS\n    \n    \n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    Bus leaves depot → publish(topic, payload)",
        "text": "SCHOOL BUS DEPOT\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    SCHOOL BUS\n    \n    \n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    Bus leaves depot → publish(topic, payload)",
        "viewBox": "0 0 900 500",
        "preserveAspectRatio": "xMidYMid meet",
        "svgMarkup": "<svg viewBox=\"0 0 800 400\" xmlns=\"http://www.w3.org/2000/svg\">\n  <!-- Scene 1: The bus leaving the depot -->\n  \n  <!-- Background sky -->\n  <rect x=\"0\" y=\"0\" width=\"800\" height=\"250\" fill=\"#87CEEB\"></rect>\n  \n  <!-- Clouds -->\n  <g fill=\"#FFFFFF\" opacity=\"0.8\">\n    <!-- Cloud 1 -->\n    <circle cx=\"150\" cy=\"60\" r=\"20\"></circle>\n    <circle cx=\"170\" cy=\"60\" r=\"15\"></circle>\n    <circle cx=\"130\" cy=\"65\" r=\"12\"></circle>\n    <circle cx=\"165\" cy=\"50\" r=\"10\"></circle>\n    \n    <!-- Cloud 2 -->\n    <circle cx=\"600\" cy=\"80\" r=\"25\"></circle>\n    <circle cx=\"625\" cy=\"80\" r=\"18\"></circle>\n    <circle cx=\"580\" cy=\"85\" r=\"15\"></circle>\n    <circle cx=\"620\" cy=\"65\" r=\"12\"></circle>\n    \n    <!-- Cloud 3 -->\n    <circle cx=\"400\" cy=\"50\" r=\"18\"></circle>\n    <circle cx=\"420\" cy=\"50\" r=\"12\"></circle>\n    <circle cx=\"385\" cy=\"55\" r=\"10\"></circle>\n  </g>\n  \n  <!-- Ground/grass verges -->\n  <rect x=\"0\" y=\"250\" width=\"800\" height=\"150\" fill=\"#4A6B3A\"></rect>\n  \n  <!-- Road -->\n  <rect x=\"0\" y=\"280\" width=\"800\" height=\"60\" fill=\"#404040\"></rect>\n  \n  <!-- Road edges -->\n  <rect x=\"0\" y=\"278\" width=\"800\" height=\"2\" fill=\"#606060\"></rect>\n  <rect x=\"0\" y=\"340\" width=\"800\" height=\"2\" fill=\"#606060\"></rect>\n  \n  <!-- Dashed center line -->\n  <g fill=\"#FFFF00\">\n    <rect x=\"50\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"120\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"190\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"260\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"330\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"400\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"470\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"540\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"610\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"680\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"750\" y=\"308\" width=\"40\" height=\"4\"></rect>\n  </g>\n  \n  <!-- Depot building -->\n  <g id=\"depot\">\n    <!-- Main building structure -->\n    <rect x=\"50\" y=\"150\" width=\"200\" height=\"130\" fill=\"#8B7355\" stroke=\"#6B5535\" stroke-width=\"2\"></rect>\n    \n    <!-- Roof -->\n    <polygon points=\"40,150 150,110 260,110 260,150\" fill=\"#654321\" stroke=\"#543210\" stroke-width=\"2\"></polygon>\n    \n    <!-- Front overhang -->\n    <polygon points=\"45,150 45,140 255,140 255,150\" fill=\"#765432\" stroke=\"#654321\" stroke-width=\"1\"></polygon>\n    \n    <!-- Garage door -->\n    <rect x=\"80\" y=\"200\" width=\"60\" height=\"80\" fill=\"#666\" stroke=\"#444\" stroke-width=\"2\" rx=\"3\"></rect>\n    <rect x=\"160\" y=\"200\" width=\"60\" height=\"80\" fill=\"#666\" stroke=\"#444\" stroke-width=\"2\" rx=\"3\"></rect>\n    \n    <!-- Garage door panels -->\n    <g stroke=\"#555\" stroke-width=\"1\" fill=\"none\">\n      <line x1=\"80\" y1=\"215\" x2=\"140\" y2=\"215\"></line>\n      <line x1=\"80\" y1=\"230\" x2=\"140\" y2=\"230\"></line>\n      <line x1=\"80\" y1=\"245\" x2=\"140\" y2=\"245\"></line>\n      <line x1=\"80\" y1=\"260\" x2=\"140\" y2=\"260\"></line>\n      \n      <line x1=\"160\" y1=\"215\" x2=\"220\" y2=\"215\"></line>\n      <line x1=\"160\" y1=\"230\" x2=\"220\" y2=\"230\"></line>\n      <line x1=\"160\" y1=\"245\" x2=\"220\" y2=\"245\"></line>\n      <line x1=\"160\" y1=\"260\" x2=\"220\" y2=\"260\"></line>\n    </g>\n    \n    <!-- Depot sign -->\n    <rect x=\"100\" y=\"160\" width=\"100\" height=\"20\" fill=\"#FFFFFF\" stroke=\"#333\" stroke-width=\"1\" rx=\"3\"></rect>\n    <text x=\"150\" y=\"173\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"12\" font-weight=\"bold\" fill=\"#333\">SCHOOL BUS DEPOT</text>\n  </g>\n  \n  <!-- School bus -->\n  <g id=\"school-bus\" transform=\"translate(300, 250)\">\n    <!-- Bus body -->\n    <rect x=\"0\" y=\"0\" width=\"120\" height=\"40\" rx=\"4\" ry=\"4\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"></rect>\n    \n    <!-- Bus front -->\n    <rect x=\"115\" y=\"3\" width=\"12\" height=\"34\" rx=\"6\" ry=\"6\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"></rect>\n    \n    <!-- Bus roof -->\n    <rect x=\"-2\" y=\"-3\" width=\"124\" height=\"6\" rx=\"3\" ry=\"3\" fill=\"#FFA500\"></rect>\n    \n    <!-- Front bumper -->\n    <rect x=\"125\" y=\"35\" width=\"8\" height=\"4\" rx=\"2\" ry=\"2\" fill=\"#C0C0C0\"></rect>\n    \n    <!-- Windows (tinted dark) -->\n    <rect x=\"110\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"100\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"90\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"80\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"70\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"60\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"50\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"40\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"30\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"20\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"10\" y=\"6\" width=\"8\" height=\"12\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    \n    <!-- Emergency exit window -->\n    <rect x=\"5\" y=\"8\" width=\"6\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    \n    <!-- Door -->\n    <rect x=\"95\" y=\"22\" width=\"12\" height=\"18\" rx=\"1\" ry=\"1\" fill=\"#E6C200\" stroke=\"#D4AF37\" stroke-width=\"1\"></rect>\n    <rect x=\"97\" y=\"24\" width=\"8\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <circle cx=\"99\" cy=\"35\" r=\"1\" fill=\"#000\"></circle>\n    \n    <!-- School Bus text -->\n    <text x=\"60\" y=\"28\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"8\" font-weight=\"bold\" fill=\"#000\">SCHOOL BUS</text>\n    \n    <!-- Orange stripe -->\n    <rect x=\"0\" y=\"20\" width=\"120\" height=\"4\" fill=\"#FFA500\"></rect>\n    \n    <!-- Front headlight (glowing) -->\n    <circle cx=\"123\" cy=\"12\" r=\"3\" fill=\"#FFFF00\">\n      <animate attributeName=\"opacity\" values=\"0.8;1;0.8\" dur=\"2s\" repeatCount=\"indefinite\"></animate>\n    </circle>\n    \n    <!-- Rear lights -->\n    <rect x=\"2\" y=\"8\" width=\"3\" height=\"4\" rx=\"1.5\" ry=\"1.5\" fill=\"#FF0000\"></rect>\n    <rect x=\"2\" y=\"28\" width=\"3\" height=\"4\" rx=\"1.5\" ry=\"1.5\" fill=\"#FF0000\"></rect>\n    \n    <!-- Wheels -->\n    <circle cx=\"25\" cy=\"42\" r=\"8\" fill=\"#333\" stroke=\"#222\" stroke-width=\"2\"></circle>\n    <circle cx=\"95\" cy=\"42\" r=\"8\" fill=\"#333\" stroke=\"#222\" stroke-width=\"2\"></circle>\n    \n    <!-- Wheel details -->\n    <circle cx=\"25\" cy=\"42\" r=\"4\" fill=\"#666\"></circle>\n    <circle cx=\"95\" cy=\"42\" r=\"4\" fill=\"#666\"></circle>\n    <circle cx=\"25\" cy=\"42\" r=\"2\" fill=\"#999\"></circle>\n    <circle cx=\"95\" cy=\"42\" r=\"2\" fill=\"#999\"></circle>\n  </g>\n  \n  <!-- Caption -->\n  <g id=\"caption\" transform=\"translate(400, 370)\">\n    <rect x=\"-150\" y=\"-10\" width=\"300\" height=\"25\" fill=\"#FFFFFF\" fill-opacity=\"0.9\" stroke=\"#333\" stroke-width=\"1\" rx=\"5\"></rect>\n    <text x=\"0\" y=\"8\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"14\" font-weight=\"bold\" fill=\"#333\">Bus leaves depot → publish(topic, payload)</text>\n  </g>\n</svg>\n"
      }
    },
    {
      "id": "rx-node-s1wplc",
      "type": "svg",
      "template": {
        "tag": "svg",
        "classRefs": [
          "rx-comp",
          "rx-svg",
          "rx-comp-svg-s1wplc"
        ],
        "style": {}
      },
      "layout": {
        "x": 750,
        "y": 50,
        "width": 750,
        "height": 400
      },
      "parentId": null,
      "siblingIndex": 0,
      "createdAt": 1759081965263,
      "content": {
        "content": "SCHOOL BUS\n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n      \n    \n    \n      \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    MANIFEST\n    \n    {\n    \"topic\": \"bus.route\",\n    \"routes\": [\"school\"],\n    \"perf.debounceMs\": 500\n    }\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    Logs ▶\n    routing_to...\n  \n  \n  \n  \n    \n    Manifest plans route; yellow light settles bursts (debounce)",
        "text": "SCHOOL BUS\n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n      \n    \n    \n      \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    MANIFEST\n    \n    {\n    \"topic\": \"bus.route\",\n    \"routes\": [\"school\"],\n    \"perf.debounceMs\": 500\n    }\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    Logs ▶\n    routing_to...\n  \n  \n  \n  \n    \n    Manifest plans route; yellow light settles bursts (debounce)",
        "viewBox": "0 0 900 500",
        "preserveAspectRatio": "xMidYMid meet",
        "svgMarkup": "<svg viewBox=\"0 0 800 400\" xmlns=\"http://www.w3.org/2000/svg\">\n  <!-- Scene 2: Bus encountering first rules of the road -->\n  \n  <!-- Background sky -->\n  <rect x=\"0\" y=\"0\" width=\"800\" height=\"250\" fill=\"#87CEEB\"></rect>\n  \n  <!-- Clouds -->\n  <g fill=\"#FFFFFF\" opacity=\"0.8\">\n    <circle cx=\"120\" cy=\"50\" r=\"18\"></circle>\n    <circle cx=\"140\" cy=\"50\" r=\"12\"></circle>\n    <circle cx=\"105\" cy=\"55\" r=\"10\"></circle>\n    \n    <circle cx=\"650\" cy=\"70\" r=\"22\"></circle>\n    <circle cx=\"675\" cy=\"70\" r=\"16\"></circle>\n    <circle cx=\"630\" cy=\"75\" r=\"12\"></circle>\n    \n    <circle cx=\"400\" cy=\"40\" r=\"15\"></circle>\n    <circle cx=\"415\" cy=\"40\" r=\"10\"></circle>\n    <circle cx=\"390\" cy=\"45\" r=\"8\"></circle>\n  </g>\n  \n  <!-- Ground -->\n  <rect x=\"0\" y=\"250\" width=\"800\" height=\"150\" fill=\"#4A6B3A\"></rect>\n  \n  <!-- Road -->\n  <rect x=\"0\" y=\"280\" width=\"800\" height=\"60\" fill=\"#404040\"></rect>\n  <rect x=\"0\" y=\"278\" width=\"800\" height=\"2\" fill=\"#606060\"></rect>\n  <rect x=\"0\" y=\"340\" width=\"800\" height=\"2\" fill=\"#606060\"></rect>\n  \n  <!-- Guardrails -->\n  <rect x=\"0\" y=\"265\" width=\"800\" height=\"8\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"></rect>\n  <rect x=\"0\" y=\"345\" width=\"800\" height=\"8\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"></rect>\n  \n  <!-- Guardrail posts -->\n  <g fill=\"#C0C0C0\">\n    <rect x=\"50\" y=\"260\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"150\" y=\"260\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"250\" y=\"260\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"350\" y=\"260\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"450\" y=\"260\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"550\" y=\"260\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"650\" y=\"260\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"750\" y=\"260\" width=\"4\" height=\"18\"></rect>\n    \n    <rect x=\"50\" y=\"345\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"150\" y=\"345\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"250\" y=\"345\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"350\" y=\"345\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"450\" y=\"345\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"550\" y=\"345\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"650\" y=\"345\" width=\"4\" height=\"18\"></rect>\n    <rect x=\"750\" y=\"345\" width=\"4\" height=\"18\"></rect>\n  </g>\n  \n  <!-- Dashed center line -->\n  <g fill=\"#FFFF00\">\n    <rect x=\"50\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"120\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"190\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"260\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"330\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"400\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"470\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"540\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"610\" y=\"308\" width=\"40\" height=\"4\"></rect>\n    <rect x=\"680\" y=\"308\" width=\"40\" height=\"4\"></rect>\n  </g>\n  \n  <!-- School bus (moving along road) -->\n  <g id=\"school-bus\" transform=\"translate(200, 250)\">\n    <rect x=\"0\" y=\"0\" width=\"100\" height=\"35\" rx=\"4\" ry=\"4\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"></rect>\n    <rect x=\"95\" y=\"3\" width=\"10\" height=\"29\" rx=\"5\" ry=\"5\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"></rect>\n    <rect x=\"-2\" y=\"-3\" width=\"104\" height=\"5\" rx=\"2.5\" ry=\"2.5\" fill=\"#FFA500\"></rect>\n    \n    <!-- Windows -->\n    <rect x=\"90\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"82\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"74\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"66\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"58\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"50\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"42\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"34\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"26\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"18\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    \n    <rect x=\"97\" y=\"6\" width=\"6\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <rect x=\"12\" y=\"8\" width=\"5\" height=\"6\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    \n    <!-- Door and details -->\n    <rect x=\"80\" y=\"20\" width=\"10\" height=\"13\" rx=\"1\" ry=\"1\" fill=\"#E6C200\" stroke=\"#D4AF37\" stroke-width=\"1\"></rect>\n    <rect x=\"82\" y=\"22\" width=\"6\" height=\"6\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"></rect>\n    <circle cx=\"84\" cy=\"30\" r=\"0.8\" fill=\"#000\"></circle>\n    \n    <text x=\"50\" y=\"24\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"6\" font-weight=\"bold\" fill=\"#000\">SCHOOL BUS</text>\n    <rect x=\"0\" y=\"18\" width=\"100\" height=\"3\" fill=\"#FFA500\"></rect>\n    \n    <!-- Headlight -->\n    <circle cx=\"101\" cy=\"12\" r=\"2.5\" fill=\"#FFFF00\">\n      <animate attributeName=\"opacity\" values=\"0.8;1;0.8\" dur=\"2s\" repeatCount=\"indefinite\"></animate>\n    </circle>\n    \n    <!-- Wheels -->\n    <circle cx=\"20\" cy=\"37\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"></circle>\n    <circle cx=\"80\" cy=\"37\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"></circle>\n    <circle cx=\"20\" cy=\"37\" r=\"3\" fill=\"#666\"></circle>\n    <circle cx=\"80\" cy=\"37\" r=\"3\" fill=\"#666\"></circle>\n  </g>\n  \n  <!-- Traffic light with yellow light active -->\n  <g id=\"traffic-light\" transform=\"translate(450, 180)\">\n    <!-- Pole -->\n    <rect x=\"18\" y=\"70\" width=\"4\" height=\"80\" fill=\"#666\" stroke=\"#444\" stroke-width=\"1\"></rect>\n    \n    <!-- Housing -->\n    <rect x=\"5\" y=\"10\" width=\"30\" height=\"70\" rx=\"5\" ry=\"5\" fill=\"#333\" stroke=\"#222\" stroke-width=\"2\"></rect>\n    <rect x=\"7\" y=\"12\" width=\"26\" height=\"66\" rx=\"3\" ry=\"3\" fill=\"#444\"></rect>\n    \n    <!-- Light housings -->\n    <circle cx=\"20\" cy=\"25\" r=\"8\" fill=\"#222\" stroke=\"#111\" stroke-width=\"1\"></circle>\n    <circle cx=\"20\" cy=\"40\" r=\"8\" fill=\"#222\" stroke=\"#111\" stroke-width=\"1\"></circle>\n    <circle cx=\"20\" cy=\"55\" r=\"8\" fill=\"#222\" stroke=\"#111\" stroke-width=\"1\"></circle>\n    \n    <!-- Red light (off) -->\n    <circle cx=\"20\" cy=\"25\" r=\"6\" fill=\"#800000\" opacity=\"0.3\"></circle>\n    \n    <!-- Yellow light (on - debounce active) -->\n    <circle cx=\"20\" cy=\"40\" r=\"6\" fill=\"#FFFF00\">\n      <animate attributeName=\"opacity\" values=\"0.8;1;0.8\" dur=\"1s\" repeatCount=\"indefinite\"></animate>\n    </circle>\n    <circle cx=\"17\" cy=\"37\" r=\"2\" fill=\"#FFFFFF\" opacity=\"0.6\">\n      <animate attributeName=\"opacity\" values=\"0.4;0.8;0.4\" dur=\"1s\" repeatCount=\"indefinite\"></animate>\n    </circle>\n    \n    <!-- Green light (off) -->\n    <circle cx=\"20\" cy=\"55\" r=\"6\" fill=\"#004000\" opacity=\"0.3\"></circle>\n  </g>\n  \n  <!-- Billboard with manifest -->\n  <g id=\"billboard\" transform=\"translate(500, 120)\">\n    <!-- Billboard structure -->\n    <rect x=\"0\" y=\"0\" width=\"120\" height=\"80\" fill=\"#F0F0F0\" stroke=\"#333\" stroke-width=\"2\" rx=\"3\"></rect>\n    <rect x=\"2\" y=\"2\" width=\"116\" height=\"76\" fill=\"#FFFFFF\" stroke=\"#DDD\" stroke-width=\"1\" rx=\"2\"></rect>\n    \n    <!-- Support posts -->\n    <rect x=\"10\" y=\"75\" width=\"6\" height=\"40\" fill=\"#8B4513\"></rect>\n    <rect x=\"104\" y=\"75\" width=\"6\" height=\"40\" fill=\"#8B4513\"></rect>\n    \n    <!-- Manifest content -->\n    <text x=\"60\" y=\"15\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"10\" font-weight=\"bold\" fill=\"#333\">MANIFEST</text>\n    \n    <text x=\"10\" y=\"30\" font-family=\"Courier, monospace\" font-size=\"8\" fill=\"#000\">{</text>\n    <text x=\"15\" y=\"42\" font-family=\"Courier, monospace\" font-size=\"8\" fill=\"#000\">\"topic\": \"bus.route\",</text>\n    <text x=\"15\" y=\"54\" font-family=\"Courier, monospace\" font-size=\"8\" fill=\"#000\">\"routes\": [\"school\"],</text>\n    <text x=\"15\" y=\"66\" font-family=\"Courier, monospace\" font-size=\"8\" fill=\"#000\">\"perf.debounceMs\": 500</text>\n    <text x=\"10\" y=\"78\" font-family=\"Courier, monospace\" font-size=\"8\" fill=\"#000\">}</text>\n  </g>\n  \n  <!-- Street sign with diagnostics -->\n  <g id=\"street-sign\" transform=\"translate(650, 200)\">\n    <!-- Sign post -->\n    <rect x=\"18\" y=\"40\" width=\"4\" height=\"60\" fill=\"#666\"></rect>\n    \n    <!-- Sign -->\n    <rect x=\"0\" y=\"0\" width=\"40\" height=\"25\" fill=\"#228B22\" stroke=\"#006400\" stroke-width=\"2\" rx=\"2\"></rect>\n    <rect x=\"2\" y=\"2\" width=\"36\" height=\"21\" fill=\"#32CD32\" stroke=\"#228B22\" stroke-width=\"1\" rx=\"1\"></rect>\n    \n    <!-- Sign text -->\n    <text x=\"20\" y=\"10\" text-anchor=\"middle\" font-family=\"Courier, monospace\" font-size=\"6\" font-weight=\"bold\" fill=\"#FFFFFF\">Logs ▶</text>\n    <text x=\"20\" y=\"18\" text-anchor=\"middle\" font-family=\"Courier, monospace\" font-size=\"5\" fill=\"#FFFFFF\">routing_to...</text>\n  </g>\n  \n  <!-- Caption -->\n  <g id=\"caption\" transform=\"translate(400, 370)\">\n    <rect x=\"-180\" y=\"-10\" width=\"360\" height=\"25\" fill=\"#FFFFFF\" fill-opacity=\"0.9\" stroke=\"#333\" stroke-width=\"1\" rx=\"5\"></rect>\n    <text x=\"0\" y=\"8\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"13\" font-weight=\"bold\" fill=\"#333\">Manifest plans route; yellow light settles bursts (debounce)</text>\n  </g>\n</svg>\n"
      }
    },
    {
      "id": "rx-node-scene3",
      "type": "svg",
      "template": {
        "tag": "svg",
        "classRefs": [
          "rx-comp",
          "rx-svg",
          "rx-comp-svg-scene3"
        ],
        "style": {}
      },
      "layout": {
        "x": 0,
        "y": 450,
        "width": 750,
        "height": 400
      },
      "parentId": null,
      "siblingIndex": 0,
      "createdAt": 1759081965264,
      "content": {
        "content": "First subscriber stop and replay cache\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    SCHOOL BUS\n    \n    \n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    First stop: live & late subscribers; Replay Cache hydrates latecomers",
        "text": "First subscriber stop and replay cache\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    SCHOOL BUS\n    \n    \n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    First stop: live & late subscribers; Replay Cache hydrates latecomers",
        "viewBox": "0 0 800 400",
        "preserveAspectRatio": "xMidYMid meet",
        "svgMarkup": "<svg viewBox=\"0 0 800 400\" xmlns=\"http://www.w3.org/2000/svg\">\n  <!-- Scene 3: First subscriber stop and replay cache -->\n  \n  <!-- Background sky -->\n  <rect x=\"0\" y=\"0\" width=\"800\" height=\"250\" fill=\"#87CEEB\"/>\n  \n  <!-- Clouds -->\n  <g fill=\"#FFFFFF\" opacity=\"0.8\">\n    <circle cx=\"100\" cy=\"45\" r=\"16\"/>\n    <circle cx=\"118\" cy=\"45\" r=\"11\"/>\n    <circle cx=\"88\" cy=\"50\" r=\"9\"/>\n    \n    <circle cx=\"600\" cy=\"65\" r=\"20\"/>\n    <circle cx=\"622\" cy=\"65\" r=\"14\"/>\n    <circle cx=\"585\" cy=\"70\" r=\"11\"/>\n    \n    <circle cx=\"350\" cy=\"35\" r=\"13\"/>\n    <circle cx=\"365\" cy=\"35\" r=\"9\"/>\n    <circle cx=\"340\" cy=\"40\" r=\"7\"/>\n  </g>\n  \n  <!-- Ground -->\n  <rect x=\"0\" y=\"250\" width=\"800\" height=\"150\" fill=\"#4A6B3A\"/>\n  \n  <!-- Road -->\n  <rect x=\"0\" y=\"280\" width=\"800\" height=\"60\" fill=\"#404040\"/>\n  <rect x=\"0\" y=\"278\" width=\"800\" height=\"2\" fill=\"#606060\"/>\n  <rect x=\"0\" y=\"340\" width=\"800\" height=\"2\" fill=\"#606060\"/>\n  \n  <!-- Guardrails -->\n  <rect x=\"0\" y=\"265\" width=\"800\" height=\"8\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"/>\n  <rect x=\"0\" y=\"345\" width=\"800\" height=\"8\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"/>\n  \n  <!-- Dashed center line -->\n  <g fill=\"#FFFF00\">\n    <rect x=\"50\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"120\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"190\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"260\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"330\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"400\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"470\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"540\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"610\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"680\" y=\"308\" width=\"40\" height=\"4\"/>\n  </g>\n  \n  <!-- School bus approaching stop -->\n  <g id=\"school-bus\" transform=\"translate(350, 250)\">\n    <rect x=\"0\" y=\"0\" width=\"100\" height=\"35\" rx=\"4\" ry=\"4\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"/>\n    <rect x=\"95\" y=\"3\" width=\"10\" height=\"29\" rx=\"5\" ry=\"5\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"/>\n    <rect x=\"-2\" y=\"-3\" width=\"104\" height=\"5\" rx=\"2.5\" ry=\"2.5\" fill=\"#FFA500\"/>\n    \n    <!-- Windows -->\n    <rect x=\"90\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"82\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"74\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"66\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"58\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"50\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"42\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"34\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"26\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"18\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    \n    <rect x=\"97\" y=\"6\" width=\"6\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"12\" y=\"8\" width=\"5\" height=\"6\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    \n    <rect x=\"80\" y=\"20\" width=\"10\" height=\"13\" rx=\"1\" ry=\"1\" fill=\"#E6C200\" stroke=\"#D4AF37\" stroke-width=\"1\"/>\n    <text x=\"50\" y=\"24\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"6\" font-weight=\"bold\" fill=\"#000\">SCHOOL BUS</text>\n    <rect x=\"0\" y=\"18\" width=\"100\" height=\"3\" fill=\"#FFA500\"/>\n    \n    <circle cx=\"101\" cy=\"12\" r=\"2.5\" fill=\"#FFFF00\">\n      <animate attributeName=\"opacity\" values=\"0.8;1;0.8\" dur=\"2s\" repeatCount=\"indefinite\"/>\n    </circle>\n    \n    <circle cx=\"20\" cy=\"37\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"/>\n    <circle cx=\"80\" cy=\"37\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"/>\n  </g>\n  \n  <!-- Bus stop shelter -->\n  <g id=\"bus-stop-shelter\" transform=\"translate(550, 180)\">\n    <!-- Shelter roof -->\n    <rect x=\"0\" y=\"0\" width=\"120\" height=\"8\" fill=\"#4682B4\" stroke=\"#2F4F4F\" stroke-width=\"2\" rx=\"4\"/>\n    \n    <!-- Shelter supports -->\n    <rect x=\"5\" y=\"8\" width=\"4\" height=\"60\" fill=\"#708090\"/>\n    <rect x=\"111\" y=\"8\" width=\"4\" height=\"60\" fill=\"#708090\"/>\n    \n    <!-- Shelter back wall -->\n    <rect x=\"5\" y=\"15\" width=\"110\" height=\"53\" fill=\"#E0E7FF\" stroke=\"#3B82F6\" stroke-width=\"1\" opacity=\"0.8\"/>\n    \n    <!-- Shelter floor -->\n    <rect x=\"0\" y=\"65\" width=\"120\" height=\"5\" fill=\"#C0C0C0\"/>\n    \n    <!-- Live Subscriber bench -->\n    <rect x=\"15\" y=\"45\" width=\"40\" height=\"15\" fill=\"#3B82F6\" stroke=\"#1E3A8A\" stroke-width=\"1\" rx=\"2\"/>\n    <rect x=\"15\" y=\"40\" width=\"40\" height=\"8\" fill=\"#60A5FA\" stroke=\"#3B82F6\" stroke-width=\"1\" rx=\"1\"/>\n    \n    <!-- Late Subscriber bench -->\n    <rect x=\"65\" y=\"45\" width=\"40\" height=\"15\" fill=\"#EF4444\" stroke=\"#DC2626\" stroke-width=\"1\" rx=\"2\"/>\n    <rect x=\"65\" y=\"40\" width=\"40\" height=\"8\" fill=\"#F87171\" stroke=\"#EF4444\" stroke-width=\"1\" rx=\"1\"/>\n    \n    <!-- Bench labels -->\n    <text x=\"35\" y=\"38\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"7\" font-weight=\"bold\" fill=\"#1E3A8A\">Live Subscriber</text>\n    <text x=\"85\" y=\"38\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"7\" font-weight=\"bold\" fill=\"#DC2626\">Late Subscriber</text>\n    \n    <!-- Person waiting on live subscriber bench -->\n    <g transform=\"translate(25, 25)\">\n      <circle cx=\"5\" cy=\"5\" r=\"3\" fill=\"#FBBF24\"/>\n      <rect x=\"2\" y=\"8\" width=\"6\" height=\"10\" fill=\"#3B82F6\" rx=\"1\"/>\n      <rect x=\"1\" y=\"12\" width=\"2\" height=\"6\" fill=\"#1E3A8A\"/>\n      <rect x=\"7\" y=\"12\" width=\"2\" height=\"6\" fill=\"#1E3A8A\"/>\n    </g>\n  </g>\n  \n  <!-- Replay Cache kiosk -->\n  <g id=\"replay-cache-kiosk\" transform=\"translate(680, 200)\">\n    <!-- Kiosk structure -->\n    <rect x=\"0\" y=\"0\" width=\"60\" height=\"70\" fill=\"#6B7280\" stroke=\"#374151\" stroke-width=\"2\" rx=\"4\"/>\n    <rect x=\"3\" y=\"3\" width=\"54\" height=\"64\" fill=\"#9CA3AF\" stroke=\"#6B7280\" stroke-width=\"1\" rx=\"3\"/>\n    \n    <!-- Kiosk screen/window -->\n    <rect x=\"8\" y=\"15\" width=\"44\" height=\"30\" fill=\"#1F2937\" stroke=\"#111827\" stroke-width=\"1\" rx=\"2\"/>\n    <rect x=\"10\" y=\"17\" width=\"40\" height=\"26\" fill=\"#374151\" stroke=\"#1F2937\" stroke-width=\"1\" rx=\"1\"/>\n    \n    <!-- Cache content display -->\n    <text x=\"30\" y=\"27\" text-anchor=\"middle\" font-family=\"Courier, monospace\" font-size=\"6\" fill=\"#10B981\">REPLAY CACHE</text>\n    <text x=\"30\" y=\"35\" text-anchor=\"middle\" font-family=\"Courier, monospace\" font-size=\"5\" fill=\"#FFFFFF\">Last Message:</text>\n    <text x=\"30\" y=\"41\" text-anchor=\"middle\" font-family=\"Courier, monospace\" font-size=\"4\" fill=\"#FBBF24\">{payload: \"...\"}</text>\n    \n    <!-- Kiosk label -->\n    <rect x=\"5\" y=\"50\" width=\"50\" height=\"12\" fill=\"#FFFFFF\" stroke=\"#333\" stroke-width=\"1\" rx=\"2\"/>\n    <text x=\"30\" y=\"58\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"8\" font-weight=\"bold\" fill=\"#333\">REPLAY CACHE</text>\n    \n    <!-- Activity indicator -->\n    <circle cx=\"52\" cy=\"10\" r=\"3\" fill=\"#10B981\">\n      <animate attributeName=\"opacity\" values=\"0.5;1;0.5\" dur=\"1.5s\" repeatCount=\"indefinite\"/>\n    </circle>\n  </g>\n  \n  <!-- Flow arrows -->\n  <g stroke=\"#333\" stroke-width=\"2\" fill=\"none\" marker-end=\"url(#arrowhead)\">\n    <!-- Bus to live subscriber -->\n    <path d=\"M 420,280 Q 480,260 570,220\" stroke=\"#3B82F6\"/>\n    \n    <!-- Replay cache to late subscriber -->\n    <path d=\"M 680,235 Q 650,225 620,220\" stroke=\"#EF4444\"/>\n  </g>\n  \n  <!-- Arrow marker definition -->\n  <defs>\n    <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"7\" refX=\"9\" refY=\"3.5\" orient=\"auto\">\n      <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#333\"/>\n    </marker>\n  </defs>\n  \n  <!-- Caption -->\n  <g id=\"caption\" transform=\"translate(400, 370)\">\n    <rect x=\"-200\" y=\"-10\" width=\"400\" height=\"25\" fill=\"#FFFFFF\" fill-opacity=\"0.9\" stroke=\"#333\" stroke-width=\"1\" rx=\"5\"/>\n    <text x=\"0\" y=\"8\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"13\" font-weight=\"bold\" fill=\"#333\">First stop: live &amp; late subscribers; Replay Cache hydrates latecomers</text>\n  </g>\n</svg>\n"
      }
    },
    {
      "id": "rx-node-scene4",
      "type": "svg",
      "template": {
        "tag": "svg",
        "classRefs": [
          "rx-comp",
          "rx-svg",
          "rx-comp-svg-scene4"
        ],
        "style": {}
      },
      "layout": {
        "x": 750,
        "y": 450,
        "width": 750,
        "height": 400
      },
      "parentId": null,
      "siblingIndex": 0,
      "createdAt": 1759081965265,
      "content": {
        "content": "Transfer hub and conductor\n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n      \n    \n    \n      \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    SCHOOL BUS\n    \n    PLUGIN A\n    \n    PLUGIN B\n    \n    Conductor: play()\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    Special hub: topics route into sequences via Conductor (plugins)",
        "text": "Transfer hub and conductor\n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n      \n    \n    \n      \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    SCHOOL BUS\n    \n    PLUGIN A\n    \n    PLUGIN B\n    \n    Conductor: play()\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    Special hub: topics route into sequences via Conductor (plugins)",
        "viewBox": "0 0 800 400",
        "preserveAspectRatio": "xMidYMid meet",
        "svgMarkup": "<svg viewBox=\"0 0 800 400\" xmlns=\"http://www.w3.org/2000/svg\">\n  <!-- Scene 4: Transfer hub and conductor -->\n  \n  <!-- Background sky -->\n  <rect x=\"0\" y=\"0\" width=\"800\" height=\"250\" fill=\"#87CEEB\"/>\n  \n  <!-- Clouds -->\n  <g fill=\"#FFFFFF\" opacity=\"0.8\">\n    <circle cx=\"90\" cy=\"40\" r=\"15\"/>\n    <circle cx=\"106\" cy=\"40\" r=\"10\"/>\n    <circle cx=\"80\" cy=\"45\" r=\"8\"/>\n    \n    <circle cx=\"650\" cy=\"60\" r=\"18\"/>\n    <circle cx=\"670\" cy=\"60\" r=\"13\"/>\n    <circle cx=\"635\" cy=\"65\" r=\"10\"/>\n    \n    <circle cx=\"300\" cy=\"30\" r=\"12\"/>\n    <circle cx=\"313\" cy=\"30\" r=\"8\"/>\n    <circle cx=\"290\" cy=\"35\" r=\"6\"/>\n  </g>\n  \n  <!-- Ground -->\n  <rect x=\"0\" y=\"250\" width=\"800\" height=\"150\" fill=\"#4A6B3A\"/>\n  \n  <!-- Main road -->\n  <rect x=\"0\" y=\"280\" width=\"800\" height=\"60\" fill=\"#404040\"/>\n  <rect x=\"0\" y=\"278\" width=\"800\" height=\"2\" fill=\"#606060\"/>\n  <rect x=\"0\" y=\"340\" width=\"800\" height=\"2\" fill=\"#606060\"/>\n  \n  <!-- Branching roads -->\n  <!-- Upper branch -->\n  <polygon points=\"450,280 550,200 570,210 460,290\" fill=\"#404040\"/>\n  <polygon points=\"450,278 550,198 570,208 460,288\" fill=\"#606060\"/>\n  \n  <!-- Lower branch -->\n  <polygon points=\"450,340 550,380 570,370 460,330\" fill=\"#404040\"/>\n  <polygon points=\"450,342 550,382 570,372 460,332\" fill=\"#606060\"/>\n  \n  <!-- Straight continuation -->\n  <rect x=\"500\" y=\"280\" width=\"300\" height=\"60\" fill=\"#404040\"/>\n  <rect x=\"500\" y=\"278\" width=\"300\" height=\"2\" fill=\"#606060\"/>\n  <rect x=\"500\" y=\"340\" width=\"300\" height=\"2\" fill=\"#606060\"/>\n  \n  <!-- Guardrails on main road -->\n  <rect x=\"0\" y=\"265\" width=\"450\" height=\"8\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"/>\n  <rect x=\"0\" y=\"345\" width=\"450\" height=\"8\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"/>\n  \n  <!-- Guardrails on continuation -->\n  <rect x=\"500\" y=\"265\" width=\"300\" height=\"8\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"/>\n  <rect x=\"500\" y=\"345\" width=\"300\" height=\"8\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"/>\n  \n  <!-- Dashed center lines -->\n  <g fill=\"#FFFF00\">\n    <!-- Main road -->\n    <rect x=\"50\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"120\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"190\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"260\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"330\" y=\"308\" width=\"40\" height=\"4\"/>\n    \n    <!-- Continuation -->\n    <rect x=\"520\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"590\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"660\" y=\"308\" width=\"40\" height=\"4\"/>\n    <rect x=\"730\" y=\"308\" width=\"40\" height=\"4\"/>\n    \n    <!-- Branch roads -->\n    <rect x=\"480\" y=\"240\" width=\"20\" height=\"3\" transform=\"rotate(-25 490 241.5)\"/>\n    <rect x=\"510\" y=\"220\" width=\"20\" height=\"3\" transform=\"rotate(-25 520 221.5)\"/>\n    \n    <rect x=\"480\" y=\"360\" width=\"20\" height=\"3\" transform=\"rotate(25 490 361.5)\"/>\n    <rect x=\"510\" y=\"380\" width=\"20\" height=\"3\" transform=\"rotate(25 520 381.5)\"/>\n  </g>\n  \n  <!-- Transfer hub (circular) -->\n  <g id=\"transfer-hub\" transform=\"translate(450, 310)\">\n    <!-- Hub platform -->\n    <circle cx=\"0\" cy=\"0\" r=\"50\" fill=\"#B0C4DE\" stroke=\"#708090\" stroke-width=\"3\"/>\n    <circle cx=\"0\" cy=\"0\" r=\"47\" fill=\"#D3D3D3\" stroke=\"#A9A9A9\" stroke-width=\"1\"/>\n    \n    <!-- Hub center -->\n    <circle cx=\"0\" cy=\"0\" r=\"25\" fill=\"#4682B4\" stroke=\"#2F4F4F\" stroke-width=\"2\"/>\n    <circle cx=\"0\" cy=\"0\" r=\"22\" fill=\"#5F9EA0\" stroke=\"#4682B4\" stroke-width=\"1\"/>\n    \n    <!-- Conductor's baton and musical note -->\n    <g id=\"conductor-icon\">\n      <!-- Baton -->\n      <line x1=\"-8\" y1=\"8\" x2=\"8\" y2=\"-8\" stroke=\"#FFFFFF\" stroke-width=\"3\" stroke-linecap=\"round\"/>\n      <circle cx=\"8\" cy=\"-8\" r=\"2\" fill=\"#FFFFFF\"/>\n      <circle cx=\"-8\" cy=\"8\" r=\"1.5\" fill=\"#FFFFFF\"/>\n      \n      <!-- Musical note -->\n      <circle cx=\"5\" cy=\"5\" r=\"3\" fill=\"#FFD700\" stroke=\"#FFA500\" stroke-width=\"1\"/>\n      <rect x=\"7.5\" y=\"-5\" width=\"1.5\" height=\"10\" fill=\"#FFD700\"/>\n      <path d=\"M 9,0 Q 12,-2 12,2\" stroke=\"#FFD700\" stroke-width=\"1.5\" fill=\"none\"/>\n    </g>\n    \n    <!-- Hub label -->\n    <text x=\"0\" y=\"35\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"10\" font-weight=\"bold\" fill=\"#1E3A8A\">Conductor: play()</text>\n  </g>\n  \n  <!-- School bus approaching hub -->\n  <g id=\"school-bus\" transform=\"translate(300, 250)\">\n    <rect x=\"0\" y=\"0\" width=\"100\" height=\"35\" rx=\"4\" ry=\"4\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"/>\n    <rect x=\"95\" y=\"3\" width=\"10\" height=\"29\" rx=\"5\" ry=\"5\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"/>\n    <rect x=\"-2\" y=\"-3\" width=\"104\" height=\"5\" rx=\"2.5\" ry=\"2.5\" fill=\"#FFA500\"/>\n    \n    <!-- Windows -->\n    <rect x=\"90\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"82\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"74\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"66\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"58\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"50\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"42\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"34\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"26\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"18\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    \n    <rect x=\"97\" y=\"6\" width=\"6\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"12\" y=\"8\" width=\"5\" height=\"6\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    \n    <rect x=\"80\" y=\"20\" width=\"10\" height=\"13\" rx=\"1\" ry=\"1\" fill=\"#E6C200\" stroke=\"#D4AF37\" stroke-width=\"1\"/>\n    <text x=\"50\" y=\"24\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"6\" font-weight=\"bold\" fill=\"#000\">SCHOOL BUS</text>\n    <rect x=\"0\" y=\"18\" width=\"100\" height=\"3\" fill=\"#FFA500\"/>\n    \n    <circle cx=\"101\" cy=\"12\" r=\"2.5\" fill=\"#FFFF00\">\n      <animate attributeName=\"opacity\" values=\"0.8;1;0.8\" dur=\"2s\" repeatCount=\"indefinite\"/>\n    </circle>\n    \n    <circle cx=\"20\" cy=\"37\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"/>\n    <circle cx=\"80\" cy=\"37\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"/>\n  </g>\n  \n  <!-- Other buses at hub -->\n  <!-- Upper branch bus -->\n  <g id=\"upper-bus\" transform=\"translate(520, 180) rotate(-25)\">\n    <rect x=\"0\" y=\"0\" width=\"60\" height=\"25\" rx=\"3\" ry=\"3\" fill=\"#32CD32\" stroke=\"#228B22\" stroke-width=\"1\"/>\n    <rect x=\"55\" y=\"2\" width=\"8\" height=\"21\" rx=\"4\" ry=\"4\" fill=\"#32CD32\" stroke=\"#228B22\" stroke-width=\"1\"/>\n    <rect x=\"52\" y=\"4\" width=\"5\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"45\" y=\"4\" width=\"5\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"38\" y=\"4\" width=\"5\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <circle cx=\"15\" cy=\"27\" r=\"4\" fill=\"#333\"/>\n    <circle cx=\"45\" cy=\"27\" r=\"4\" fill=\"#333\"/>\n    <text x=\"30\" y=\"16\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"5\" fill=\"#000\">PLUGIN A</text>\n  </g>\n  \n  <!-- Lower branch bus -->\n  <g id=\"lower-bus\" transform=\"translate(520, 360) rotate(25)\">\n    <rect x=\"0\" y=\"0\" width=\"60\" height=\"25\" rx=\"3\" ry=\"3\" fill=\"#FF6347\" stroke=\"#DC143C\" stroke-width=\"1\"/>\n    <rect x=\"55\" y=\"2\" width=\"8\" height=\"21\" rx=\"4\" ry=\"4\" fill=\"#FF6347\" stroke=\"#DC143C\" stroke-width=\"1\"/>\n    <rect x=\"52\" y=\"4\" width=\"5\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"45\" y=\"4\" width=\"5\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"38\" y=\"4\" width=\"5\" height=\"8\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <circle cx=\"15\" cy=\"27\" r=\"4\" fill=\"#333\"/>\n    <circle cx=\"45\" cy=\"27\" r=\"4\" fill=\"#333\"/>\n    <text x=\"30\" y=\"16\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"5\" fill=\"#000\">PLUGIN B</text>\n  </g>\n  \n  <!-- Passengers transferring -->\n  <g id=\"transferring-passengers\">\n    <!-- Passenger 1 - walking to upper bus -->\n    <g transform=\"translate(470, 270)\">\n      <circle cx=\"0\" cy=\"0\" r=\"2\" fill=\"#FBBF24\"/>\n      <rect x=\"-1\" y=\"2\" width=\"2\" height=\"6\" fill=\"#3B82F6\" rx=\"0.5\"/>\n      <rect x=\"-1.5\" y=\"4\" width=\"1\" height=\"4\" fill=\"#1E3A8A\"/>\n      <rect x=\"0.5\" y=\"4\" width=\"1\" height=\"4\" fill=\"#1E3A8A\"/>\n    </g>\n    \n    <!-- Passenger 2 - walking to lower bus -->\n    <g transform=\"translate(460, 330)\">\n      <circle cx=\"0\" cy=\"0\" r=\"2\" fill=\"#F87171\"/>\n      <rect x=\"-1\" y=\"2\" width=\"2\" height=\"6\" fill=\"#EF4444\" rx=\"0.5\"/>\n      <rect x=\"-1.5\" y=\"4\" width=\"1\" height=\"4\" fill=\"#DC2626\"/>\n      <rect x=\"0.5\" y=\"4\" width=\"1\" height=\"4\" fill=\"#DC2626\"/>\n    </g>\n    \n    <!-- Passenger 3 - at hub -->\n    <g transform=\"translate(440, 300)\">\n      <circle cx=\"0\" cy=\"0\" r=\"2\" fill=\"#34D399\"/>\n      <rect x=\"-1\" y=\"2\" width=\"2\" height=\"6\" fill=\"#10B981\" rx=\"0.5\"/>\n      <rect x=\"-1.5\" y=\"4\" width=\"1\" height=\"4\" fill=\"#059669\"/>\n      <rect x=\"0.5\" y=\"4\" width=\"1\" height=\"4\" fill=\"#059669\"/>\n    </g>\n  </g>\n  \n  <!-- Direction arrows -->\n  <g stroke=\"#333\" stroke-width=\"2\" fill=\"none\" marker-end=\"url(#arrowhead)\">\n    <path d=\"M 420,290 Q 440,280 460,270\" stroke=\"#32CD32\"/>\n    <path d=\"M 420,320 Q 440,330 460,340\" stroke=\"#FF6347\"/>\n    <path d=\"M 500,310 L 580,310\" stroke=\"#FFD700\"/>\n  </g>\n  \n  <!-- Arrow marker definition -->\n  <defs>\n    <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"7\" refX=\"9\" refY=\"3.5\" orient=\"auto\">\n      <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#333\"/>\n    </marker>\n  </defs>\n  \n  <!-- Caption -->\n  <g id=\"caption\" transform=\"translate(400, 370)\">\n    <rect x=\"-220\" y=\"-10\" width=\"440\" height=\"25\" fill=\"#FFFFFF\" fill-opacity=\"0.9\" stroke=\"#333\" stroke-width=\"1\" rx=\"5\"/>\n    <text x=\"0\" y=\"8\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"13\" font-weight=\"bold\" fill=\"#333\">Special hub: topics route into sequences via Conductor (plugins)</text>\n  </g>\n</svg>\n"
      }
    },
    {
      "id": "rx-node-scene5",
      "type": "svg",
      "template": {
        "tag": "svg",
        "classRefs": [
          "rx-comp",
          "rx-svg",
          "rx-comp-svg-scene5"
        ],
        "style": {}
      },
      "layout": {
        "x": 0,
        "y": 850,
        "width": 750,
        "height": 400
      },
      "parentId": null,
      "siblingIndex": 0,
      "createdAt": 1759081965266,
      "content": {
        "content": "Rules, boundaries, and street signs\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    SCHOOL BUS\n    \n    \n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    Street rules: enforced boundaries, flags, throttle & debounce lanes",
        "text": "Rules, boundaries, and street signs\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    SCHOOL BUS\n    \n    \n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    Street rules: enforced boundaries, flags, throttle & debounce lanes",
        "viewBox": "0 0 800 400",
        "preserveAspectRatio": "xMidYMid meet",
        "svgMarkup": "<svg viewBox=\"0 0 800 400\" xmlns=\"http://www.w3.org/2000/svg\">\n  <!-- Scene 5: Rules, boundaries, and street signs -->\n  \n  <!-- Background sky -->\n  <rect x=\"0\" y=\"0\" width=\"800\" height=\"250\" fill=\"#87CEEB\"/>\n  \n  <!-- Clouds -->\n  <g fill=\"#FFFFFF\" opacity=\"0.8\">\n    <circle cx=\"80\" cy=\"35\" r=\"14\"/>\n    <circle cx=\"95\" cy=\"35\" r=\"9\"/>\n    <circle cx=\"70\" cy=\"40\" r=\"7\"/>\n    \n    <circle cx=\"600\" cy=\"55\" r=\"16\"/>\n    <circle cx=\"618\" cy=\"55\" r=\"11\"/>\n    <circle cx=\"588\" cy=\"60\" r=\"9\"/>\n    \n    <circle cx=\"250\" cy=\"25\" r=\"11\"/>\n    <circle cx=\"262\" cy=\"25\" r=\"7\"/>\n    <circle cx=\"242\" cy=\"30\" r=\"5\"/>\n  </g>\n  \n  <!-- Ground -->\n  <rect x=\"0\" y=\"250\" width=\"800\" height=\"150\" fill=\"#4A6B3A\"/>\n  \n  <!-- Road -->\n  <rect x=\"0\" y=\"280\" width=\"800\" height=\"60\" fill=\"#404040\"/>\n  <rect x=\"0\" y=\"278\" width=\"800\" height=\"2\" fill=\"#606060\"/>\n  <rect x=\"0\" y=\"340\" width=\"800\" height=\"2\" fill=\"#606060\"/>\n  \n  <!-- Enhanced guardrails -->\n  <rect x=\"0\" y=\"265\" width=\"800\" height=\"10\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"/>\n  <rect x=\"0\" y=\"345\" width=\"800\" height=\"10\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"/>\n  \n  <!-- Guardrail posts -->\n  <g fill=\"#C0C0C0\">\n    <rect x=\"50\" y=\"260\" width=\"4\" height=\"20\"/>\n    <rect x=\"150\" y=\"260\" width=\"4\" height=\"20\"/>\n    <rect x=\"250\" y=\"260\" width=\"4\" height=\"20\"/>\n    <rect x=\"350\" y=\"260\" width=\"4\" height=\"20\"/>\n    <rect x=\"450\" y=\"260\" width=\"4\" height=\"20\"/>\n    <rect x=\"550\" y=\"260\" width=\"4\" height=\"20\"/>\n    <rect x=\"650\" y=\"260\" width=\"4\" height=\"20\"/>\n    <rect x=\"750\" y=\"260\" width=\"4\" height=\"20\"/>\n    \n    <rect x=\"50\" y=\"345\" width=\"4\" height=\"20\"/>\n    <rect x=\"150\" y=\"345\" width=\"4\" height=\"20\"/>\n    <rect x=\"250\" y=\"345\" width=\"4\" height=\"20\"/>\n    <rect x=\"350\" y=\"345\" width=\"4\" height=\"20\"/>\n    <rect x=\"450\" y=\"345\" width=\"4\" height=\"20\"/>\n    <rect x=\"550\" y=\"345\" width=\"4\" height=\"20\"/>\n    <rect x=\"650\" y=\"345\" width=\"4\" height=\"20\"/>\n    <rect x=\"750\" y=\"345\" width=\"4\" height=\"20\"/>\n  </g>\n  \n  <!-- Lane markings for performance controls -->\n  <!-- Debounce lane (left) - funnel with single pulse -->\n  <g transform=\"translate(200, 290)\">\n    <!-- Funnel shape -->\n    <polygon points=\"0,10 20,5 20,15 0,20\" fill=\"#FFFF00\" opacity=\"0.7\"/>\n    <polygon points=\"25,7 35,8 35,12 25,13\" fill=\"#FFFF00\" opacity=\"0.7\"/>\n    <!-- Single pulse after funnel -->\n    <rect x=\"40\" y=\"8\" width=\"8\" height=\"4\" fill=\"#FFFF00\" rx=\"2\"/>\n  </g>\n  \n  <!-- Throttle lane (right) - evenly spaced ticks -->\n  <g transform=\"translate(500, 295)\" fill=\"#FFFF00\" opacity=\"0.7\">\n    <rect x=\"0\" y=\"0\" width=\"3\" height=\"10\" rx=\"1\"/>\n    <rect x=\"10\" y=\"0\" width=\"3\" height=\"10\" rx=\"1\"/>\n    <rect x=\"20\" y=\"0\" width=\"3\" height=\"10\" rx=\"1\"/>\n    <rect x=\"30\" y=\"0\" width=\"3\" height=\"10\" rx=\"1\"/>\n    <rect x=\"40\" y=\"0\" width=\"3\" height=\"10\" rx=\"1\"/>\n    <rect x=\"50\" y=\"0\" width=\"3\" height=\"10\" rx=\"1\"/>\n  </g>\n  \n  <!-- Regular dashed center line -->\n  <g fill=\"#FFFF00\">\n    <rect x=\"50\" y=\"308\" width=\"30\" height=\"4\"/>\n    <rect x=\"120\" y=\"308\" width=\"30\" height=\"4\"/>\n    <rect x=\"300\" y=\"308\" width=\"30\" height=\"4\"/>\n    <rect x=\"370\" y=\"308\" width=\"30\" height=\"4\"/>\n    <rect x=\"600\" y=\"308\" width=\"30\" height=\"4\"/>\n    <rect x=\"680\" y=\"308\" width=\"30\" height=\"4\"/>\n    <rect x=\"750\" y=\"308\" width=\"30\" height=\"4\"/>\n  </g>\n  \n  <!-- School bus cruising -->\n  <g id=\"school-bus\" transform=\"translate(350, 250)\">\n    <rect x=\"0\" y=\"0\" width=\"100\" height=\"35\" rx=\"4\" ry=\"4\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"/>\n    <rect x=\"95\" y=\"3\" width=\"10\" height=\"29\" rx=\"5\" ry=\"5\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"/>\n    <rect x=\"-2\" y=\"-3\" width=\"104\" height=\"5\" rx=\"2.5\" ry=\"2.5\" fill=\"#FFA500\"/>\n    \n    <!-- Windows -->\n    <rect x=\"90\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"82\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"74\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"66\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"58\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"50\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"42\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"34\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"26\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"18\" y=\"6\" width=\"7\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    \n    <rect x=\"97\" y=\"6\" width=\"6\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"12\" y=\"8\" width=\"5\" height=\"6\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    \n    <rect x=\"80\" y=\"20\" width=\"10\" height=\"13\" rx=\"1\" ry=\"1\" fill=\"#E6C200\" stroke=\"#D4AF37\" stroke-width=\"1\"/>\n    <text x=\"50\" y=\"24\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"6\" font-weight=\"bold\" fill=\"#000\">SCHOOL BUS</text>\n    <rect x=\"0\" y=\"18\" width=\"100\" height=\"3\" fill=\"#FFA500\"/>\n    \n    <circle cx=\"101\" cy=\"12\" r=\"2.5\" fill=\"#FFFF00\">\n      <animate attributeName=\"opacity\" values=\"0.8;1;0.8\" dur=\"2s\" repeatCount=\"indefinite\"/>\n    </circle>\n    \n    <circle cx=\"20\" cy=\"37\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"/>\n    <circle cx=\"80\" cy=\"37\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"/>\n  </g>\n  \n  <!-- Street signs for rules and boundaries -->\n  <!-- Loop Prevention sign -->\n  <g id=\"loop-prevention-sign\" transform=\"translate(100, 180)\">\n    <rect x=\"18\" y=\"40\" width=\"4\" height=\"50\" fill=\"#666\"/>\n    <polygon points=\"0,0 40,0 35,35 5,35\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"/>\n    <polygon points=\"2,2 38,2 33,33 7,33\" fill=\"#FFF8DC\"/>\n    \n    <!-- Loop symbol crossed out -->\n    <circle cx=\"20\" cy=\"18\" r=\"8\" fill=\"none\" stroke=\"#DC143C\" stroke-width=\"2\"/>\n    <path d=\"M 15,13 Q 20,8 25,13 Q 20,18 15,13\" fill=\"none\" stroke=\"#DC143C\" stroke-width=\"2\"/>\n    <line x1=\"12\" y1=\"12\" x2=\"28\" y2=\"24\" stroke=\"#DC143C\" stroke-width=\"3\"/>\n    \n    <text x=\"20\" y=\"30\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"6\" font-weight=\"bold\" fill=\"#DC143C\">LOOP</text>\n    <text x=\"20\" y=\"36\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"6\" font-weight=\"bold\" fill=\"#DC143C\">PREVENTION</text>\n  </g>\n  \n  <!-- Handler Isolation sign -->\n  <g id=\"handler-isolation-sign\" transform=\"translate(300, 170)\">\n    <rect x=\"18\" y=\"50\" width=\"4\" height=\"60\" fill=\"#666\"/>\n    <rect x=\"0\" y=\"0\" width=\"40\" height=\"35\" fill=\"#228B22\" stroke=\"#006400\" stroke-width=\"2\" rx=\"3\"/>\n    <rect x=\"2\" y=\"2\" width=\"36\" height=\"31\" fill=\"#32CD32\" rx=\"2\"/>\n    \n    <!-- Lab flask icon -->\n    <g transform=\"translate(20, 18)\">\n      <rect x=\"-3\" y=\"-8\" width=\"6\" height=\"4\" fill=\"#FFFFFF\" rx=\"1\"/>\n      <polygon points=\"-5,0 5,0 3,8 -3,8\" fill=\"#FFFFFF\"/>\n      <circle cx=\"0\" cy=\"4\" r=\"2\" fill=\"#00BFFF\"/>\n      <rect x=\"-1\" y=\"-6\" width=\"2\" height=\"2\" fill=\"#FFFFFF\"/>\n    </g>\n    \n    <text x=\"20\" y=\"28\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"5\" font-weight=\"bold\" fill=\"#FFFFFF\">HANDLER</text>\n    <text x=\"20\" y=\"33\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"5\" font-weight=\"bold\" fill=\"#FFFFFF\">ISOLATION</text>\n  </g>\n  \n  <!-- Feature Flags sign -->\n  <g id=\"feature-flags-sign\" transform=\"translate(600, 175)\">\n    <rect x=\"18\" y=\"45\" width=\"4\" height=\"55\" fill=\"#666\"/>\n    <rect x=\"0\" y=\"0\" width=\"40\" height=\"30\" fill=\"#4169E1\" stroke=\"#191970\" stroke-width=\"2\" rx=\"3\"/>\n    <rect x=\"2\" y=\"2\" width=\"36\" height=\"26\" fill=\"#6495ED\" rx=\"2\"/>\n    \n    <!-- Toggle switch -->\n    <rect x=\"10\" y=\"8\" width=\"20\" height=\"8\" fill=\"#FFFFFF\" stroke=\"#333\" stroke-width=\"1\" rx=\"4\"/>\n    <circle cx=\"25\" cy=\"12\" r=\"3\" fill=\"#32CD32\" stroke=\"#228B22\" stroke-width=\"1\"/>\n    <text x=\"8\" y=\"14\" font-family=\"Arial, sans-serif\" font-size=\"4\" fill=\"#333\">OFF</text>\n    <text x=\"28\" y=\"14\" font-family=\"Arial, sans-serif\" font-size=\"4\" fill=\"#333\">ON</text>\n    \n    <text x=\"20\" y=\"24\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"5\" font-weight=\"bold\" fill=\"#FFFFFF\">FEATURE</text>\n    <text x=\"20\" y=\"29\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"5\" font-weight=\"bold\" fill=\"#FFFFFF\">FLAGS</text>\n  </g>\n  \n  <!-- Distant traffic light -->\n  <g id=\"distant-traffic-light\" transform=\"translate(720, 190)\" opacity=\"0.6\">\n    <rect x=\"18\" y=\"50\" width=\"3\" height=\"40\" fill=\"#666\"/>\n    <rect x=\"10\" y=\"10\" width=\"20\" height=\"45\" rx=\"3\" ry=\"3\" fill=\"#333\"/>\n    \n    <circle cx=\"20\" cy=\"20\" r=\"4\" fill=\"#800000\" opacity=\"0.3\"/>\n    <circle cx=\"20\" cy=\"30\" r=\"4\" fill=\"#806000\" opacity=\"0.3\"/>\n    <circle cx=\"20\" cy=\"40\" r=\"4\" fill=\"#00FF00\">\n      <animate attributeName=\"opacity\" values=\"0.3;1;0.3\" dur=\"3s\" repeatCount=\"indefinite\"/>\n    </circle>\n  </g>\n  \n  <!-- Caption -->\n  <g id=\"caption\" transform=\"translate(400, 370)\">\n    <rect x=\"-250\" y=\"-10\" width=\"500\" height=\"25\" fill=\"#FFFFFF\" fill-opacity=\"0.9\" stroke=\"#333\" stroke-width=\"1\" rx=\"5\"/>\n    <text x=\"0\" y=\"8\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"13\" font-weight=\"bold\" fill=\"#333\">Street rules: enforced boundaries, flags, throttle &amp; debounce lanes</text>\n  </g>\n</svg>\n"
      }
    },
    {
      "id": "rx-node-scene6",
      "type": "svg",
      "template": {
        "tag": "svg",
        "classRefs": [
          "rx-comp",
          "rx-svg",
          "rx-comp-svg-scene6"
        ],
        "style": {}
      },
      "layout": {
        "x": 750,
        "y": 850,
        "width": 750,
        "height": 400
      },
      "parentId": null,
      "siblingIndex": 0,
      "createdAt": 1759081965267,
      "content": {
        "content": "Final destination - the school\n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n      \n    \n    \n      \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    SCHOOL BUS\n    \n    ELEMENTARY SCHOOL\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    Destination reached: application state updated (successful delivery)",
        "text": "Final destination - the school\n    \n    \n    \n    \n      \n    \n    \n    \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n      \n    \n    \n      \n    \n    \n    \n    \n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    SCHOOL BUS\n    \n    ELEMENTARY SCHOOL\n  \n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n    \n    Destination reached: application state updated (successful delivery)",
        "viewBox": "0 0 800 400",
        "preserveAspectRatio": "xMidYMid meet",
        "svgMarkup": "<svg viewBox=\"0 0 800 400\" xmlns=\"http://www.w3.org/2000/svg\">\n  <!-- Scene 6: Final destination - the school -->\n  \n  <!-- Background sky -->\n  <rect x=\"0\" y=\"0\" width=\"800\" height=\"250\" fill=\"#87CEEB\"/>\n  \n  <!-- Clouds -->\n  <g fill=\"#FFFFFF\" opacity=\"0.8\">\n    <circle cx=\"70\" cy=\"30\" r=\"13\"/>\n    <circle cx=\"84\" cy=\"30\" r=\"8\"/>\n    <circle cx=\"60\" cy=\"35\" r=\"6\"/>\n    \n    <circle cx=\"650\" cy=\"50\" r=\"15\"/>\n    <circle cx=\"667\" cy=\"50\" r=\"10\"/>\n    <circle cx=\"638\" cy=\"55\" r=\"8\"/>\n    \n    <circle cx=\"200\" cy=\"20\" r=\"10\"/>\n    <circle cx=\"211\" cy=\"20\" r=\"6\"/>\n    <circle cx=\"192\" cy=\"25\" r=\"4\"/>\n  </g>\n  \n  <!-- Ground -->\n  <rect x=\"0\" y=\"250\" width=\"800\" height=\"150\" fill=\"#4A6B3A\"/>\n  \n  <!-- Road ending at school -->\n  <rect x=\"0\" y=\"280\" width=\"400\" height=\"60\" fill=\"#404040\"/>\n  <rect x=\"0\" y=\"278\" width=\"400\" height=\"2\" fill=\"#606060\"/>\n  <rect x=\"0\" y=\"340\" width=\"400\" height=\"2\" fill=\"#606060\"/>\n  \n  <!-- School courtyard/parking area -->\n  <rect x=\"400\" y=\"280\" width=\"400\" height=\"60\" fill=\"#C0C0C0\"/>\n  <rect x=\"398\" y=\"278\" width=\"4\" height=\"64\" fill=\"#606060\"/>\n  \n  <!-- Guardrails ending -->\n  <rect x=\"0\" y=\"265\" width=\"400\" height=\"8\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"/>\n  <rect x=\"0\" y=\"345\" width=\"400\" height=\"8\" fill=\"#E0E0E0\" stroke=\"#C0C0C0\" stroke-width=\"1\"/>\n  \n  <!-- Dashed center line ending -->\n  <g fill=\"#FFFF00\">\n    <rect x=\"50\" y=\"308\" width=\"30\" height=\"4\"/>\n    <rect x=\"120\" y=\"308\" width=\"30\" height=\"4\"/>\n    <rect x=\"190\" y=\"308\" width=\"30\" height=\"4\"/>\n    <rect x=\"260\" y=\"308\" width=\"30\" height=\"4\"/>\n    <rect x=\"330\" y=\"308\" width=\"30\" height=\"4\"/>\n  </g>\n  \n  <!-- School building -->\n  <g id=\"school-building\" transform=\"translate(500, 100)\">\n    <!-- Main building -->\n    <rect x=\"0\" y=\"50\" width=\"200\" height=\"120\" fill=\"#CD853F\" stroke=\"#8B4513\" stroke-width=\"2\"/>\n    \n    <!-- Roof -->\n    <polygon points=\"-10,50 100,10 210,50\" fill=\"#8B0000\" stroke=\"#654321\" stroke-width=\"2\"/>\n    \n    <!-- Roof ridge -->\n    <line x1=\"100\" y1=\"10\" x2=\"100\" y2=\"50\" stroke=\"#654321\" stroke-width=\"1\"/>\n    \n    <!-- School entrance -->\n    <rect x=\"85\" y=\"120\" width=\"30\" height=\"50\" fill=\"#4682B4\" stroke=\"#2F4F4F\" stroke-width=\"2\" rx=\"15\" ry=\"0\"/>\n    <rect x=\"87\" y=\"122\" width=\"26\" height=\"25\" fill=\"#87CEEB\" stroke=\"#4682B4\" stroke-width=\"1\" rx=\"13\" ry=\"0\"/>\n    \n    <!-- Door handle -->\n    <circle cx=\"110\" cy=\"145\" r=\"2\" fill=\"#FFD700\"/>\n    \n    <!-- Windows -->\n    <rect x=\"20\" y=\"70\" width=\"20\" height=\"20\" fill=\"#87CEEB\" stroke=\"#4682B4\" stroke-width=\"1\"/>\n    <rect x=\"50\" y=\"70\" width=\"20\" height=\"20\" fill=\"#87CEEB\" stroke=\"#4682B4\" stroke-width=\"1\"/>\n    <rect x=\"130\" y=\"70\" width=\"20\" height=\"20\" fill=\"#87CEEB\" stroke=\"#4682B4\" stroke-width=\"1\"/>\n    <rect x=\"160\" y=\"70\" width=\"20\" height=\"20\" fill=\"#87CEEB\" stroke=\"#4682B4\" stroke-width=\"1\"/>\n    \n    <rect x=\"20\" y=\"100\" width=\"20\" height=\"20\" fill=\"#87CEEB\" stroke=\"#4682B4\" stroke-width=\"1\"/>\n    <rect x=\"50\" y=\"100\" width=\"20\" height=\"20\" fill=\"#87CEEB\" stroke=\"#4682B4\" stroke-width=\"1\"/>\n    <rect x=\"130\" y=\"100\" width=\"20\" height=\"20\" fill=\"#87CEEB\" stroke=\"#4682B4\" stroke-width=\"1\"/>\n    <rect x=\"160\" y=\"100\" width=\"20\" height=\"20\" fill=\"#87CEEB\" stroke=\"#4682B4\" stroke-width=\"1\"/>\n    \n    <!-- Window frames -->\n    <g stroke=\"#2F4F4F\" stroke-width=\"0.5\">\n      <line x1=\"30\" y1=\"70\" x2=\"30\" y2=\"90\"/>\n      <line x1=\"20\" y1=\"80\" x2=\"40\" y2=\"80\"/>\n      <line x1=\"60\" y1=\"70\" x2=\"60\" y2=\"90\"/>\n      <line x1=\"50\" y1=\"80\" x2=\"70\" y2=\"80\"/>\n      <line x1=\"140\" y1=\"70\" x2=\"140\" y2=\"90\"/>\n      <line x1=\"130\" y1=\"80\" x2=\"150\" y2=\"80\"/>\n      <line x1=\"170\" y1=\"70\" x2=\"170\" y2=\"90\"/>\n      <line x1=\"160\" y1=\"80\" x2=\"180\" y2=\"80\"/>\n      \n      <line x1=\"30\" y1=\"100\" x2=\"30\" y2=\"120\"/>\n      <line x1=\"20\" y1=\"110\" x2=\"40\" y2=\"110\"/>\n      <line x1=\"60\" y1=\"100\" x2=\"60\" y2=\"120\"/>\n      <line x1=\"50\" y1=\"110\" x2=\"70\" y2=\"110\"/>\n      <line x1=\"140\" y1=\"100\" x2=\"140\" y2=\"120\"/>\n      <line x1=\"130\" y1=\"110\" x2=\"150\" y2=\"110\"/>\n      <line x1=\"170\" y1=\"100\" x2=\"170\" y2=\"120\"/>\n      <line x1=\"160\" y1=\"110\" x2=\"180\" y2=\"110\"/>\n    </g>\n    \n    <!-- Flagpole -->\n    <rect x=\"98\" y=\"0\" width=\"4\" height=\"60\" fill=\"#8B4513\"/>\n    \n    <!-- Flag -->\n    <rect x=\"102\" y=\"5\" width=\"30\" height=\"20\" fill=\"#FF0000\">\n      <animate attributeName=\"d\" values=\"M102,5 L132,5 L132,25 L102,25 Z;M102,5 L132,7 L132,23 L102,25 Z;M102,5 L132,5 L132,25 L102,25 Z\" dur=\"2s\" repeatCount=\"indefinite\"/>\n    </rect>\n    <polygon points=\"102,5 132,7 132,23 102,25\" fill=\"#FF0000\">\n      <animateTransform attributeName=\"transform\" type=\"skewX\" values=\"0;3;0\" dur=\"2s\" repeatCount=\"indefinite\"/>\n    </polygon>\n    \n    <!-- School sign -->\n    <rect x=\"60\" y=\"130\" width=\"80\" height=\"15\" fill=\"#FFFFFF\" stroke=\"#333\" stroke-width=\"1\" rx=\"2\"/>\n    <text x=\"100\" y=\"140\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"10\" font-weight=\"bold\" fill=\"#333\">ELEMENTARY SCHOOL</text>\n  </g>\n  \n  <!-- Parked school bus -->\n  <g id=\"parked-school-bus\" transform=\"translate(250, 250)\">\n    <rect x=\"0\" y=\"0\" width=\"120\" height=\"35\" rx=\"4\" ry=\"4\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"/>\n    <rect x=\"115\" y=\"3\" width=\"12\" height=\"29\" rx=\"6\" ry=\"6\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"2\"/>\n    <rect x=\"-2\" y=\"-3\" width=\"124\" height=\"5\" rx=\"2.5\" ry=\"2.5\" fill=\"#FFA500\"/>\n    \n    <!-- Windows -->\n    <rect x=\"110\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"100\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"90\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"80\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"70\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"60\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"50\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"40\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"30\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"20\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"10\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    \n    <rect x=\"117\" y=\"6\" width=\"8\" height=\"10\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    <rect x=\"5\" y=\"8\" width=\"6\" height=\"6\" rx=\"1\" ry=\"1\" fill=\"#2F4F4F\" opacity=\"0.8\"/>\n    \n    <rect x=\"95\" y=\"20\" width=\"12\" height=\"13\" rx=\"1\" ry=\"1\" fill=\"#E6C200\" stroke=\"#D4AF37\" stroke-width=\"1\"/>\n    <text x=\"60\" y=\"24\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"7\" font-weight=\"bold\" fill=\"#000\">SCHOOL BUS</text>\n    <rect x=\"0\" y=\"18\" width=\"120\" height=\"3\" fill=\"#FFA500\"/>\n    \n    <!-- Headlight (not glowing - parked) -->\n    <circle cx=\"123\" cy=\"12\" r=\"2.5\" fill=\"#FFFFCC\"/>\n    \n    <circle cx=\"25\" cy=\"37\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"/>\n    <circle cx=\"95\" cy=\"37\" r=\"6\" fill=\"#333\" stroke=\"#222\" stroke-width=\"1\"/>\n    \n    <!-- Door open -->\n    <rect x=\"95\" y=\"20\" width=\"12\" height=\"13\" fill=\"none\" stroke=\"#D4AF37\" stroke-width=\"1\"/>\n    <rect x=\"107\" y=\"22\" width=\"8\" height=\"9\" fill=\"#E6C200\" stroke=\"#D4AF37\" stroke-width=\"1\"/>\n  </g>\n  \n  <!-- Children disembarking and walking to school -->\n  <g id=\"children-walking\">\n    <!-- Child 1 - just off bus -->\n    <g transform=\"translate(380, 270)\">\n      <circle cx=\"0\" cy=\"0\" r=\"3\" fill=\"#FBBF24\"/>\n      <rect x=\"-2\" y=\"3\" width=\"4\" height=\"8\" fill=\"#3B82F6\" rx=\"1\"/>\n      <rect x=\"-2.5\" y=\"6\" width=\"2\" height=\"5\" fill=\"#1E3A8A\"/>\n      <rect x=\"0.5\" y=\"6\" width=\"2\" height=\"5\" fill=\"#1E3A8A\"/>\n      <!-- Backpack -->\n      <rect x=\"2\" y=\"4\" width=\"2\" height=\"4\" fill=\"#DC2626\" rx=\"1\"/>\n    </g>\n    \n    <!-- Child 2 - walking toward school -->\n    <g transform=\"translate(420, 275)\">\n      <circle cx=\"0\" cy=\"0\" r=\"3\" fill=\"#F87171\"/>\n      <rect x=\"-2\" y=\"3\" width=\"4\" height=\"8\" fill=\"#10B981\" rx=\"1\"/>\n      <rect x=\"-2.5\" y=\"6\" width=\"2\" height=\"5\" fill=\"#059669\"/>\n      <rect x=\"0.5\" y=\"6\" width=\"2\" height=\"5\" fill=\"#059669\"/>\n      <!-- Backpack -->\n      <rect x=\"2\" y=\"4\" width=\"2\" height=\"4\" fill=\"#7C3AED\" rx=\"1\"/>\n    </g>\n    \n    <!-- Child 3 - near school entrance -->\n    <g transform=\"translate(480, 280)\">\n      <circle cx=\"0\" cy=\"0\" r=\"3\" fill=\"#34D399\"/>\n      <rect x=\"-2\" y=\"3\" width=\"4\" height=\"8\" fill=\"#EF4444\" rx=\"1\"/>\n      <rect x=\"-2.5\" y=\"6\" width=\"2\" height=\"5\" fill=\"#DC2626\"/>\n      <rect x=\"0.5\" y=\"6\" width=\"2\" height=\"5\" fill=\"#DC2626\"/>\n      <!-- Backpack -->\n      <rect x=\"2\" y=\"4\" width=\"2\" height=\"4\" fill=\"#F59E0B\" rx=\"1\"/>\n    </g>\n    \n    <!-- Child 4 - at school door -->\n    <g transform=\"translate(580, 285)\">\n      <circle cx=\"0\" cy=\"0\" r=\"3\" fill=\"#A78BFA\"/>\n      <rect x=\"-2\" y=\"3\" width=\"4\" height=\"8\" fill=\"#FBBF24\" rx=\"1\"/>\n      <rect x=\"-2.5\" y=\"6\" width=\"2\" height=\"5\" fill=\"#F59E0B\"/>\n      <rect x=\"0.5\" y=\"6\" width=\"2\" height=\"5\" fill=\"#F59E0B\"/>\n      <!-- Backpack -->\n      <rect x=\"2\" y=\"4\" width=\"2\" height=\"4\" fill=\"#06B6D4\" rx=\"1\"/>\n    </g>\n  </g>\n  \n  <!-- Festive decorations -->\n  <g id=\"decorations\">\n    <!-- Pennant banners -->\n    <line x1=\"450\" y1=\"120\" x2=\"650\" y2=\"120\" stroke=\"#8B4513\" stroke-width=\"2\"/>\n    <g fill=\"#FF6B6B\">\n      <polygon points=\"460,120 470,125 460,130\"/>\n      <polygon points=\"480,120 490,125 480,130\"/>\n      <polygon points=\"500,120 510,125 500,130\"/>\n      <polygon points=\"520,120 530,125 520,130\"/>\n      <polygon points=\"540,120 550,125 540,130\"/>\n      <polygon points=\"560,120 570,125 560,130\"/>\n      <polygon points=\"580,120 590,125 580,130\"/>\n      <polygon points=\"600,120 610,125 600,130\"/>\n      <polygon points=\"620,120 630,125 620,130\"/>\n    </g>\n    \n    <!-- Balloons -->\n    <g transform=\"translate(720, 200)\">\n      <line x1=\"0\" y1=\"20\" x2=\"0\" y2=\"40\" stroke=\"#333\" stroke-width=\"1\"/>\n      <circle cx=\"0\" cy=\"15\" r=\"8\" fill=\"#FF6B6B\"/>\n      <circle cx=\"-8\" cy=\"18\" r=\"6\" fill=\"#4ECDC4\"/>\n      <circle cx=\"8\" cy=\"18\" r=\"6\" fill=\"#45B7D1\"/>\n    </g>\n  </g>\n  \n  <!-- Caption -->\n  <g id=\"caption\" transform=\"translate(400, 370)\">\n    <rect x=\"-220\" y=\"-10\" width=\"440\" height=\"25\" fill=\"#FFFFFF\" fill-opacity=\"0.9\" stroke=\"#333\" stroke-width=\"1\" rx=\"5\"/>\n    <text x=\"0\" y=\"8\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"13\" font-weight=\"bold\" fill=\"#333\">Destination reached: application state updated (successful delivery)</text>\n  </g>\n</svg>\n"
      }
    },
    {
      "id": "rx-node-summary",
      "type": "svg",
      "template": {
        "tag": "svg",
        "classRefs": [
          "rx-comp",
          "rx-svg",
          "rx-comp-svg-summary"
        ],
        "style": {}
      },
      "layout": {
        "x": 0,
        "y": 1250,
        "width": 1500,
        "height": 400
      },
      "parentId": null,
      "siblingIndex": 0,
      "createdAt": 1759081965268,
      "content": {
        "content": "EventRouter School Bus Journey - Complete Story\n    \n    \n    From Publisher Origin to Application State\n  \n  \n  \n  \n    \n    \n    Scene 1: Depot\n    publish(topic, payload)\n    \n    \n    Scene 2: Rules\n    Manifest + Debounce\n    \n    \n    Scene 3: Subscribers\n    Live + Replay Cache\n    \n    \n    Scene 4: Hub\n    Conductor Orchestration\n    \n    \n    Scene 5: Boundaries\n    Rules + Performance\n    \n    \n    Scene 6: School\n    Application State\n  \n  \n  \n  \n    \n    Complete EventRouter Journey\n    \n    \n    \n    1. PUBLISHING:\n    Event originates at depot (publisher) and begins journey\n    \n    2. ROUTING RULES:\n    Manifest defines route; debounce controls burst handling\n    \n    3. SUBSCRIBERS:\n    Live subscribers receive immediately; late ones get replay cache\n    \n    4. ORCHESTRATION:\n    Conductor hub sequences events into plugin workflows\n    \n    5. BOUNDARIES:\n    Safety rules, feature flags, and performance controls\n    \n    6. FINAL STATE:\n    Events successfully delivered to application state\n  \n  \n  \n  \n    \n    Technical Mapping\n    \n    \n    Bus = EventRouter.publish(topic, payload)\n    Depot = Publisher origin point\n    Route = Manifest-defined event routing\n    Traffic Lights = Performance controls (debounce/throttle)\n    Guardrails = Safety boundaries and validation\n    Street Signs = Feature flags and diagnostics\n    \n    Bus Stops = Subscriber registration points\n    Replay Cache = Late subscriber hydration\n    Transfer Hub = Conductor orchestration\n    Plugin Buses = Sequence execution\n    School = Final application state\n    Children = Successfully delivered events",
        "text": "EventRouter School Bus Journey - Complete Story\n    \n    \n    From Publisher Origin to Application State\n  \n  \n  \n  \n    \n    \n    Scene 1: Depot\n    publish(topic, payload)\n    \n    \n    Scene 2: Rules\n    Manifest + Debounce\n    \n    \n    Scene 3: Subscribers\n    Live + Replay Cache\n    \n    \n    Scene 4: Hub\n    Conductor Orchestration\n    \n    \n    Scene 5: Boundaries\n    Rules + Performance\n    \n    \n    Scene 6: School\n    Application State\n  \n  \n  \n  \n    \n    Complete EventRouter Journey\n    \n    \n    \n    1. PUBLISHING:\n    Event originates at depot (publisher) and begins journey\n    \n    2. ROUTING RULES:\n    Manifest defines route; debounce controls burst handling\n    \n    3. SUBSCRIBERS:\n    Live subscribers receive immediately; late ones get replay cache\n    \n    4. ORCHESTRATION:\n    Conductor hub sequences events into plugin workflows\n    \n    5. BOUNDARIES:\n    Safety rules, feature flags, and performance controls\n    \n    6. FINAL STATE:\n    Events successfully delivered to application state\n  \n  \n  \n  \n    \n    Technical Mapping\n    \n    \n    Bus = EventRouter.publish(topic, payload)\n    Depot = Publisher origin point\n    Route = Manifest-defined event routing\n    Traffic Lights = Performance controls (debounce/throttle)\n    Guardrails = Safety boundaries and validation\n    Street Signs = Feature flags and diagnostics\n    \n    Bus Stops = Subscriber registration points\n    Replay Cache = Late subscriber hydration\n    Transfer Hub = Conductor orchestration\n    Plugin Buses = Sequence execution\n    School = Final application state\n    Children = Successfully delivered events",
        "viewBox": "0 0 1200 800",
        "preserveAspectRatio": "xMidYMid meet",
        "svgMarkup": "<svg viewBox=\"0 0 1200 800\" xmlns=\"http://www.w3.org/2000/svg\">\n  <!-- Complete storyboard summary - comic strip style -->\n  \n  <!-- Background -->\n  <rect x=\"0\" y=\"0\" width=\"1200\" height=\"800\" fill=\"#F8F9FA\"/>\n  \n  <!-- Title -->\n  <rect x=\"50\" y=\"20\" width=\"1100\" height=\"60\" fill=\"#E3F2FD\" stroke=\"#1976D2\" stroke-width=\"2\" rx=\"5\"/>\n  <text x=\"600\" y=\"45\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"24\" font-weight=\"bold\" fill=\"#1976D2\">EventRouter School Bus Journey - Complete Story</text>\n  <text x=\"600\" y=\"65\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"14\" fill=\"#424242\">From Publisher Origin to Application State</text>\n  \n  <!-- Scene panels (comic strip style) -->\n  \n  <!-- Scene 1 Panel -->\n  <g id=\"scene-1-panel\" transform=\"translate(50, 100)\">\n    <rect x=\"0\" y=\"0\" width=\"180\" height=\"120\" fill=\"#FFFFFF\" stroke=\"#333\" stroke-width=\"2\" rx=\"5\"/>\n    <rect x=\"5\" y=\"5\" width=\"170\" height=\"90\" fill=\"#87CEEB\"/>\n    \n    <!-- Mini depot -->\n    <rect x=\"20\" y=\"60\" width=\"40\" height=\"25\" fill=\"#8B7355\" stroke=\"#6B5535\" stroke-width=\"1\"/>\n    <polygon points=\"15,60 40,45 65,60\" fill=\"#654321\"/>\n    \n    <!-- Mini bus leaving -->\n    <rect x=\"80\" y=\"70\" width=\"30\" height=\"10\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"1\" rx=\"2\"/>\n    <circle cx=\"85\" cy=\"82\" r=\"3\" fill=\"#333\"/>\n    <circle cx=\"105\" cy=\"82\" r=\"3\" fill=\"#333\"/>\n    <circle cx=\"112\" cy=\"73\" r=\"1\" fill=\"#FFFF00\"/>\n    \n    <!-- Mini road -->\n    <rect x=\"5\" y=\"85\" width=\"170\" height=\"8\" fill=\"#404040\"/>\n    <rect x=\"20\" y=\"88\" width=\"10\" height=\"2\" fill=\"#FFFF00\"/>\n    <rect x=\"40\" y=\"88\" width=\"10\" height=\"2\" fill=\"#FFFF00\"/>\n    <rect x=\"60\" y=\"88\" width=\"10\" height=\"2\" fill=\"#FFFF00\"/>\n    \n    <text x=\"90\" y=\"110\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"10\" font-weight=\"bold\" fill=\"#333\">Scene 1: Depot</text>\n    <text x=\"90\" y=\"122\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"8\" fill=\"#666\">publish(topic, payload)</text>\n  </g>\n  \n  <!-- Scene 2 Panel -->\n  <g id=\"scene-2-panel\" transform=\"translate(250, 100)\">\n    <rect x=\"0\" y=\"0\" width=\"180\" height=\"120\" fill=\"#FFFFFF\" stroke=\"#333\" stroke-width=\"2\" rx=\"5\"/>\n    <rect x=\"5\" y=\"5\" width=\"170\" height=\"90\" fill=\"#87CEEB\"/>\n    \n    <!-- Mini bus -->\n    <rect x=\"40\" y=\"70\" width=\"30\" height=\"10\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"1\" rx=\"2\"/>\n    <circle cx=\"45\" cy=\"82\" r=\"3\" fill=\"#333\"/>\n    <circle cx=\"65\" cy=\"82\" r=\"3\" fill=\"#333\"/>\n    \n    <!-- Traffic light -->\n    <rect x=\"100\" y=\"50\" width=\"8\" height=\"20\" fill=\"#333\" rx=\"2\"/>\n    <circle cx=\"104\" cy=\"60\" r=\"2\" fill=\"#FFFF00\"/>\n    \n    <!-- Billboard -->\n    <rect x=\"120\" y=\"55\" width=\"25\" height=\"15\" fill=\"#F0F0F0\" stroke=\"#333\" stroke-width=\"1\"/>\n    <text x=\"132\" y=\"62\" text-anchor=\"middle\" font-family=\"Courier, monospace\" font-size=\"4\" fill=\"#000\">manifest</text>\n    \n    <!-- Road -->\n    <rect x=\"5\" y=\"85\" width=\"170\" height=\"8\" fill=\"#404040\"/>\n    \n    <text x=\"90\" y=\"110\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"10\" font-weight=\"bold\" fill=\"#333\">Scene 2: Rules</text>\n    <text x=\"90\" y=\"122\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"8\" fill=\"#666\">Manifest + Debounce</text>\n  </g>\n  \n  <!-- Scene 3 Panel -->\n  <g id=\"scene-3-panel\" transform=\"translate(450, 100)\">\n    <rect x=\"0\" y=\"0\" width=\"180\" height=\"120\" fill=\"#FFFFFF\" stroke=\"#333\" stroke-width=\"2\" rx=\"5\"/>\n    <rect x=\"5\" y=\"5\" width=\"170\" height=\"90\" fill=\"#87CEEB\"/>\n    \n    <!-- Mini bus -->\n    <rect x=\"30\" y=\"70\" width=\"30\" height=\"10\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"1\" rx=\"2\"/>\n    <circle cx=\"35\" cy=\"82\" r=\"3\" fill=\"#333\"/>\n    <circle cx=\"55\" cy=\"82\" r=\"3\" fill=\"#333\"/>\n    \n    <!-- Bus stop -->\n    <rect x=\"100\" y=\"50\" width=\"40\" height=\"20\" fill=\"#E0E7FF\" stroke=\"#3B82F6\" stroke-width=\"1\"/>\n    <rect x=\"105\" y=\"65\" width=\"15\" height=\"5\" fill=\"#3B82F6\"/>\n    <rect x=\"125\" y=\"65\" width=\"15\" height=\"5\" fill=\"#EF4444\"/>\n    \n    <!-- Replay cache -->\n    <rect x=\"150\" y=\"55\" width=\"15\" height=\"15\" fill=\"#6B7280\" stroke=\"#374151\" stroke-width=\"1\"/>\n    <text x=\"157\" y=\"63\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"4\" fill=\"#10B981\">CACHE</text>\n    \n    <!-- Road -->\n    <rect x=\"5\" y=\"85\" width=\"170\" height=\"8\" fill=\"#404040\"/>\n    \n    <text x=\"90\" y=\"110\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"10\" font-weight=\"bold\" fill=\"#333\">Scene 3: Subscribers</text>\n    <text x=\"90\" y=\"122\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"8\" fill=\"#666\">Live + Replay Cache</text>\n  </g>\n  \n  <!-- Scene 4 Panel -->\n  <g id=\"scene-4-panel\" transform=\"translate(650, 100)\">\n    <rect x=\"0\" y=\"0\" width=\"180\" height=\"120\" fill=\"#FFFFFF\" stroke=\"#333\" stroke-width=\"2\" rx=\"5\"/>\n    <rect x=\"5\" y=\"5\" width=\"170\" height=\"90\" fill=\"#87CEEB\"/>\n    \n    <!-- Mini bus -->\n    <rect x=\"20\" y=\"70\" width=\"30\" height=\"10\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"1\" rx=\"2\"/>\n    <circle cx=\"25\" cy=\"82\" r=\"3\" fill=\"#333\"/>\n    <circle cx=\"45\" cy=\"82\" r=\"3\" fill=\"#333\"/>\n    \n    <!-- Transfer hub -->\n    <circle cx=\"90\" cy=\"75\" r=\"20\" fill=\"#4682B4\" stroke=\"#2F4F4F\" stroke-width=\"1\"/>\n    <line x1=\"85\" y1=\"80\" x2=\"95\" y2=\"70\" stroke=\"#FFFFFF\" stroke-width=\"2\"/>\n    <circle cx=\"95\" cy=\"70\" r=\"1\" fill=\"#FFFFFF\"/>\n    \n    <!-- Branch buses -->\n    <rect x=\"130\" y=\"50\" width=\"20\" height=\"8\" fill=\"#32CD32\" rx=\"1\"/>\n    <rect x=\"130\" y=\"90\" width=\"20\" height=\"8\" fill=\"#FF6347\" rx=\"1\"/>\n    \n    <!-- Road -->\n    <rect x=\"5\" y=\"85\" width=\"170\" height=\"8\" fill=\"#404040\"/>\n    \n    <text x=\"90\" y=\"110\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"10\" font-weight=\"bold\" fill=\"#333\">Scene 4: Hub</text>\n    <text x=\"90\" y=\"122\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"8\" fill=\"#666\">Conductor Orchestration</text>\n  </g>\n  \n  <!-- Scene 5 Panel -->\n  <g id=\"scene-5-panel\" transform=\"translate(850, 100)\">\n    <rect x=\"0\" y=\"0\" width=\"180\" height=\"120\" fill=\"#FFFFFF\" stroke=\"#333\" stroke-width=\"2\" rx=\"5\"/>\n    <rect x=\"5\" y=\"5\" width=\"170\" height=\"90\" fill=\"#87CEEB\"/>\n    \n    <!-- Mini bus -->\n    <rect x=\"60\" y=\"70\" width=\"30\" height=\"10\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"1\" rx=\"2\"/>\n    <circle cx=\"65\" cy=\"82\" r=\"3\" fill=\"#333\"/>\n    <circle cx=\"85\" cy=\"82\" r=\"3\" fill=\"#333\"/>\n    \n    <!-- Street signs -->\n    <rect x=\"20\" y=\"45\" width=\"12\" height=\"8\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"1\"/>\n    <circle cx=\"26\" cy=\"49\" r=\"2\" fill=\"none\" stroke=\"#DC143C\" stroke-width=\"1\"/>\n    <line x1=\"24\" y1=\"47\" x2=\"28\" y2=\"51\" stroke=\"#DC143C\" stroke-width=\"1\"/>\n    \n    <rect x=\"120\" y=\"45\" width=\"12\" height=\"8\" fill=\"#228B22\"/>\n    <rect x=\"140\" y=\"45\" width=\"12\" height=\"8\" fill=\"#4169E1\"/>\n    \n    <!-- Performance lanes -->\n    <polygon points=\"30,88 40,86 40,90 30,92\" fill=\"#FFFF00\" opacity=\"0.7\"/>\n    <rect x=\"45\" y=\"87\" width=\"3\" height=\"4\" fill=\"#FFFF00\" opacity=\"0.7\"/>\n    \n    <!-- Road -->\n    <rect x=\"5\" y=\"85\" width=\"170\" height=\"8\" fill=\"#404040\"/>\n    \n    <text x=\"90\" y=\"110\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"10\" font-weight=\"bold\" fill=\"#333\">Scene 5: Boundaries</text>\n    <text x=\"90\" y=\"122\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"8\" fill=\"#666\">Rules + Performance</text>\n  </g>\n  \n  <!-- Scene 6 Panel -->\n  <g id=\"scene-6-panel\" transform=\"translate(1050, 100)\">\n    <rect x=\"0\" y=\"0\" width=\"130\" height=\"120\" fill=\"#FFFFFF\" stroke=\"#333\" stroke-width=\"2\" rx=\"5\"/>\n    <rect x=\"5\" y=\"5\" width=\"120\" height=\"90\" fill=\"#87CEEB\"/>\n    \n    <!-- Parked bus -->\n    <rect x=\"15\" y=\"75\" width=\"25\" height=\"8\" fill=\"#FFD700\" stroke=\"#E6C200\" stroke-width=\"1\" rx=\"2\"/>\n    <circle cx=\"20\" cy=\"85\" r=\"2\" fill=\"#333\"/>\n    <circle cx=\"35\" cy=\"85\" r=\"2\" fill=\"#333\"/>\n    \n    <!-- School -->\n    <rect x=\"60\" y=\"50\" width=\"50\" height=\"30\" fill=\"#CD853F\" stroke=\"#8B4513\" stroke-width=\"1\"/>\n    <polygon points=\"55,50 85,35 115,50\" fill=\"#8B0000\"/>\n    <rect x=\"80\" y=\"65\" width=\"10\" height=\"15\" fill=\"#4682B4\" rx=\"5\" ry=\"0\"/>\n    \n    <!-- Flag -->\n    <rect x=\"83\" y=\"30\" width=\"4\" height=\"20\" fill=\"#8B4513\"/>\n    <rect x=\"87\" y=\"32\" width=\"8\" height=\"5\" fill=\"#FF0000\"/>\n    \n    <!-- Children -->\n    <circle cx=\"45\" cy=\"80\" r=\"2\" fill=\"#FBBF24\"/>\n    <rect x=\"44\" y=\"82\" width=\"2\" height=\"4\" fill=\"#3B82F6\"/>\n    \n    <circle cx=\"75\" cy=\"82\" r=\"2\" fill=\"#F87171\"/>\n    <rect x=\"74\" y=\"84\" width=\"2\" height=\"4\" fill=\"#10B981\"/>\n    \n    <!-- Road ending -->\n    <rect x=\"5\" y=\"85\" width=\"50\" height=\"8\" fill=\"#404040\"/>\n    <rect x=\"55\" y=\"85\" width=\"70\" height=\"8\" fill=\"#C0C0C0\"/>\n    \n    <text x=\"65\" y=\"110\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"10\" font-weight=\"bold\" fill=\"#333\">Scene 6: School</text>\n    <text x=\"65\" y=\"122\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"8\" fill=\"#666\">Application State</text>\n  </g>\n  \n  <!-- Flow arrows between scenes -->\n  <g stroke=\"#1976D2\" stroke-width=\"3\" fill=\"none\" marker-end=\"url(#arrowhead)\">\n    <path d=\"M 230,160 L 250,160\"/>\n    <path d=\"M 430,160 L 450,160\"/>\n    <path d=\"M 630,160 L 650,160\"/>\n    <path d=\"M 830,160 L 850,160\"/>\n    <path d=\"M 1030,160 L 1050,160\"/>\n  </g>\n  \n  <!-- Overall flow description -->\n  <g transform=\"translate(50, 250)\">\n    <rect x=\"0\" y=\"0\" width=\"1100\" height=\"200\" fill=\"#FFFFFF\" stroke=\"#1976D2\" stroke-width=\"2\" rx=\"5\"/>\n    <rect x=\"10\" y=\"10\" width=\"1080\" height=\"30\" fill=\"#E3F2FD\"/>\n    <text x=\"550\" y=\"30\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"16\" font-weight=\"bold\" fill=\"#1976D2\">Complete EventRouter Journey</text>\n    \n    <!-- Flow steps -->\n    <g font-family=\"Arial, sans-serif\" font-size=\"12\" fill=\"#333\">\n      <text x=\"30\" y=\"70\" font-weight=\"bold\">1. PUBLISHING:</text>\n      <text x=\"30\" y=\"85\">Event originates at depot (publisher) and begins journey</text>\n      \n      <text x=\"30\" y=\"110\" font-weight=\"bold\">2. ROUTING RULES:</text>\n      <text x=\"30\" y=\"125\">Manifest defines route; debounce controls burst handling</text>\n      \n      <text x=\"30\" y=\"150\" font-weight=\"bold\">3. SUBSCRIBERS:</text>\n      <text x=\"30\" y=\"165\">Live subscribers receive immediately; late ones get replay cache</text>\n      \n      <text x=\"580\" y=\"70\" font-weight=\"bold\">4. ORCHESTRATION:</text>\n      <text x=\"580\" y=\"85\">Conductor hub sequences events into plugin workflows</text>\n      \n      <text x=\"580\" y=\"110\" font-weight=\"bold\">5. BOUNDARIES:</text>\n      <text x=\"580\" y=\"125\">Safety rules, feature flags, and performance controls</text>\n      \n      <text x=\"580\" y=\"150\" font-weight=\"bold\">6. FINAL STATE:</text>\n      <text x=\"580\" y=\"165\">Events successfully delivered to application state</text>\n    </g>\n  </g>\n  \n  <!-- Technical mapping -->\n  <g transform=\"translate(50, 470)\">\n    <rect x=\"0\" y=\"0\" width=\"1100\" height=\"150\" fill=\"#F5F5F5\" stroke=\"#666\" stroke-width=\"1\" rx=\"5\"/>\n    <rect x=\"10\" y=\"10\" width=\"1080\" height=\"25\" fill=\"#E0E0E0\"/>\n    <text x=\"550\" y=\"27\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"14\" font-weight=\"bold\" fill=\"#333\">Technical Mapping</text>\n    \n    <g font-family=\"Courier, monospace\" font-size=\"10\" fill=\"#333\">\n      <text x=\"30\" y=\"55\" font-weight=\"bold\">Bus = EventRouter.publish(topic, payload)</text>\n      <text x=\"30\" y=\"70\">Depot = Publisher origin point</text>\n      <text x=\"30\" y=\"85\">Route = Manifest-defined event routing</text>\n      <text x=\"30\" y=\"100\">Traffic Lights = Performance controls (debounce/throttle)</text>\n      <text x=\"30\" y=\"115\">Guardrails = Safety boundaries and validation</text>\n      <text x=\"30\" y=\"130\">Street Signs = Feature flags and diagnostics</text>\n      \n      <text x=\"580\" y=\"55\" font-weight=\"bold\">Bus Stops = Subscriber registration points</text>\n      <text x=\"580\" y=\"70\">Replay Cache = Late subscriber hydration</text>\n      <text x=\"580\" y=\"85\">Transfer Hub = Conductor orchestration</text>\n      <text x=\"580\" y=\"100\">Plugin Buses = Sequence execution</text>\n      <text x=\"580\" y=\"115\">School = Final application state</text>\n      <text x=\"580\" y=\"130\">Children = Successfully delivered events</text>\n    </g>\n  </g>\n  \n  <!-- Arrow marker definition -->\n  <defs>\n    <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"7\" refX=\"9\" refY=\"3.5\" orient=\"auto\">\n      <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#1976D2\"/>\n    </marker>\n  </defs>\n</svg>\n"
      }
    }
  ]
}