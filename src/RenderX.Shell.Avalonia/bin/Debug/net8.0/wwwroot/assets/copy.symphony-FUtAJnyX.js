import{setClipboardText as l}from"./_clipboard-BxzBjI5u.js";function b(t){const r=document.getElementById("rx-selection-overlay")?.dataset?.targetId;return t?.id||t?.selectedId||r}function m(t,r){const o=t.tagName.toLowerCase(),n=Array.from(t.classList||[]).filter(a=>!/^rx-comp-[^-]+-/.test(a)),c={};for(const a of Array.from(t.attributes||[])){const s=a.name;s==="id"||s==="class"||s==="style"||(c[s]=a.value)}const e={};t.style.width&&(e.width=t.style.width),t.style.height&&(e.height=t.style.height),t.style.background&&(e.background=t.style.background),t.style.color&&(e.color=t.style.color),t.style.padding&&(e.padding=t.style.padding);const g=t.style.left?parseFloat(t.style.left):0,u=t.style.top?parseFloat(t.style.top):0,i={tag:o,classes:n,style:e,text:(t.textContent||"").toString()};return t.getAttribute("data-role")==="container"&&(i.attributes={...i.attributes||{},"data-role":"container"}),{id:r,template:i,position:{x:g,y:u},classes:n,attributes:c,style:e}}async function y(t,r){const o=b(t);if(!o)return{};const n=document.getElementById(String(o));if(!n)return{};const e={type:"renderx-component",version:"1.0",component:m(n,String(o)),metadata:{copiedAt:new Date().toISOString()}};try{l(JSON.stringify(e))}catch{}return{clipboardData:e}}async function d(t,r){try{const o=t?.clipboardData||t,n=JSON.stringify(o);try{l(n)}catch{}await navigator?.clipboard?.writeText?.(n)}catch(o){try{r?.logger?.warn?.("Clipboard write failed",o)}catch{}}}async function p(t,r){}var f={serializeSelectedComponent:y,copyToClipboard:d,notifyCopyComplete:p};const _=Object.freeze(Object.defineProperty({__proto__:null,copyToClipboard:d,handlers:f,notifyCopyComplete:p,serializeSelectedComponent:y},Symbol.toStringTag,{value:"Module"})),S=Object.freeze(Object.defineProperty({__proto__:null,handlers:f},Symbol.toStringTag,{value:"Module"}));export{_ as a,S as b,d as c,p as n,y as s};
