const g={version:"1.0.0",defaults:{tagRules:[{when:"metadata.type == 'container'",tag:"div"},{when:"metadata.type == 'input'",tag:"input"},{when:"metadata.type == 'image'",tag:"img"},{when:"metadata.type == 'line'",tag:"svg"},{when:"metadata.type == 'svg'",tag:"svg"},{when:"metadata.type == 'paragraph'",tag:"p"},{when:"metadata.type == 'heading'",tagFrom:{path:"integration.properties.defaultValues.level",validateIn:["h1","h2","h3","h4","h5","h6"],fallback:"h2"}},{defaultTag:"div"}]}};let c=null;function l(a,t){if(!a||!t)return;const i=t.split(".");let r=a;for(const o of i){if(r==null)return;r=r[o]}return r}function u(a,t){if(!t)return!0;const i=t.indexOf("==");if(i>-1){const o=t.slice(0,i).trim(),e=t.slice(i+2).trim(),n=l(a,o),f=e.replace(/^['\"]|['\"]$/g,"");return String(n)===f}const r=t.indexOf("===");if(r>-1){const o=t.slice(0,r).trim(),e=t.slice(r+3).trim(),n=l(a,o);if(e==="true")return!!n;if(e==="false")return!n;const f=e.replace(/^['\"]|['\"]$/g,"");return String(n)===f}return!1}function s(){try{const t=(globalThis||{})?.RenderX?.componentMapperConfig;t&&typeof t=="object"&&t.defaults?.tagRules&&(c=t)}catch{}}function d(){return c||s(),c||g}function m(a){const t=(a||"").trim();return t?p({metadata:{type:t}}):"div"}function p(a){const t=l(a,"runtime.tag");if(typeof t=="string"&&t.trim())return t.trim();const i=d();for(const e of i.defaults.tagRules)if(!e.defaultTag&&u(a,e.when)){if(e.tag)return e.tag;if(e.tagFrom){const n=e.tagFrom;let f=String(l(a,n.path)||"");return f=f.toLowerCase(),n.validateIn&&n.validateIn.length?n.validateIn.includes(f)?f:n.fallback:f||n.fallback}}const r=String(l(a,"metadata.type")||"").trim();return r||i.defaults.tagRules.find(e=>e.defaultTag)?.defaultTag||"div"}export{p as c,m as g};
