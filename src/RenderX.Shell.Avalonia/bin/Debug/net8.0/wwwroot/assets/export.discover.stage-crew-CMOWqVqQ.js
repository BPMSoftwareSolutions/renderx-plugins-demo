function m(f,o){try{if(typeof document>"u")return;const e=document.getElementById("rx-canvas");if(!e){o.logger?.warn?.("DOM discovery skipped: #rx-canvas not found");return}const n=[],l=e.querySelectorAll(".rx-comp");for(const i of Array.from(l)){const t=i,s=Array.from(t.classList),a=s.find(d=>d.startsWith("rx-")&&d!=="rx-comp"),p=a?a.replace("rx-",""):t.tagName.toLowerCase(),c={id:t.id,type:p,classes:s,createdAt:Date.now()},r=t.textContent?.trim();r&&(c.content={content:r,text:r}),n.push(c)}n.length>0?(o.payload.components=n,o.payload.componentCount=n.length,o.payload.source="dom-discovery",o.logger?.info?.(`DOM discovery found ${n.length} components`)):o.logger?.info?.("DOM discovery found 0 components")}catch(e){o.logger?.error?.("DOM discovery failed:",e),o.payload.error=String(e)}}export{m as discoverComponentsFromDom};
