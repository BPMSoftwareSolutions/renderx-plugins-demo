import{i as g}from"./feature-flags-IuyZAa4_.js";var l={},i=(a,r)=>{const{id:t,position:o}=a;if(!t||!o)throw new Error("Missing required drag data: id and position");let e=l[t];if(e||(e=typeof document<"u"&&document.getElementById(t)||void 0,e&&(l[t]=e)),!e)throw new Error(`Canvas component with id ${t} not found`);if(g("perf.drag.use-transform"))e.style.willChange||(e.style.willChange="transform"),e.style.setProperty("--rx-x",`${o.x}px`),e.style.setProperty("--rx-y",`${o.y}px`);else{e.style.position||(e.style.position="absolute"),e.style.willChange||(e.style.willChange="left, top");const n=typeof o.x=="number"?`${o.x}px`:String(o.x),s=typeof o.y=="number"?`${o.y}px`:String(o.y);e.style.left!==n&&(e.style.left=n),e.style.top!==s&&(e.style.top=s)}return r.payload.updatedPosition=o,r.payload.elementId=t,{success:!0,elementId:t,newPosition:o}},d=(a,r)=>{const{id:t}=a;if(!t){r.logger?.warn?.("Missing id for drag start");return}try{globalThis.__cpDragInProgress=!0}catch{}return r.payload.dragStarted=!0,r.payload.elementId=t,{success:!0,elementId:t,phase:"start"}},p=(a,r)=>{const{id:t}=a;if(!t){r.logger?.warn?.("Missing id for drag end");return}try{globalThis.__cpDragInProgress=!1}catch{}return r.payload.dragEnded=!0,r.payload.elementId=t,{success:!0,elementId:t,phase:"end"}},y=(a,r)=>!0,f={startDrag:d,updatePosition:i,endDrag:p,forwardToControlPanel:y};const m=Object.freeze(Object.defineProperty({__proto__:null,endDrag:p,forwardToControlPanel:y,handlers:f,startDrag:d,updatePosition:i},Symbol.toStringTag,{value:"Module"})),h=Object.freeze(Object.defineProperty({__proto__:null,handlers:f},Symbol.toStringTag,{value:"Module"}));export{h as a,m as d,p as e,y as f,d as s,i as u};
