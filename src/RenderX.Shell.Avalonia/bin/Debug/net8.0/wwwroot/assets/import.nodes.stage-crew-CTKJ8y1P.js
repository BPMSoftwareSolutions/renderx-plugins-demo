import{transformImportToCreatePayload as d,attachStandardImportInteractions as i}from"./create.from-import-CoZP2EUZ.js";import{E as l}from"./EventRouter-DUQzZvsb.js";import{r as m}from"./interactionManifest-BORsh5a3.js";async function g(s,t){const a=t.payload.importComponents||[],e=m("canvas.component.create");t.payload.createdComponents=[];for(const n of a){const o=d(n);i(o,t),await t.conductor?.play?.(e.pluginId,e.sequenceId,o),t.payload.createdComponents.push({id:n.id,parentId:n.parentId,siblingIndex:n.siblingIndex})}}function h(s,t){const a=t.payload.importComponents||[],e=new Map;for(const n of a){const o=n.parentId??null;e.has(o)||e.set(o,[]),e.get(o).push(n)}for(const[n,o]of e){o.sort((c,r)=>(c.siblingIndex||0)-(r.siblingIndex||0));const p=(n?document.getElementById(n):null)||document.getElementById("rx-canvas");if(p)for(const c of o){const r=document.getElementById(c.id);r&&p.appendChild(r)}}try{const n=t.payload.importCorrelationId,o=Array.isArray(a)?a.length:0;n&&l.publish("canvas.component.import.completed",{correlationId:n,components:o},t.conductor)}catch{}}export{h as applyHierarchyAndOrder,g as createComponentsSequentially};
