import{E as r}from"./EventRouter-DUQzZvsb.js";import{r as l}from"./interactionManifest-BORsh5a3.js";function n(a){const t={tag:a.tag,classes:a.classRefs||[],style:a.style||{},text:a.content?.text||a.content?.content,cssVariables:a.cssVariables||{},css:a.css};return Array.isArray(a.classRefs)&&a.classRefs.includes("rx-container")&&(t.attributes={"data-role":"container"}),a.content&&Object.keys(a.content).length>0&&(t.content=a.content),a.layout?.width&&a.layout?.height&&(t.dimensions={width:a.layout.width,height:a.layout.height}),{component:{template:t},position:{x:a.layout?.x||0,y:a.layout?.y||0},containerId:a.parentId||void 0,_overrideNodeId:a.id}}function i(a,t){a.onDragStart=e=>{try{globalThis.__cpDragInProgress=!0}catch{}try{r.publish("canvas.component.drag.start",{id:e?.id},t.conductor)}catch{}},a.onDragMove=e=>{try{const{id:c,position:s}=e||{};r.publish("canvas.component.drag.move",{id:c,position:s},t.conductor)}catch{}},a.onDragEnd=e=>{try{globalThis.__cpDragInProgress=!1}catch{}try{const{id:c,finalPosition:s,correlationId:o}=e||{},d=s||e?.position;r.publish("canvas.component.drag.end",{id:c,position:d,correlationId:o},t.conductor)}catch{}},a.onSelected=e=>{try{r.publish("canvas.component.selection.changed",{id:e?.id},t.conductor)}catch{}}}async function g(a,t){const e=l("canvas.component.create"),c=n(a);return i(c,t),await t.conductor?.play?.(e.pluginId,e.sequenceId,c),c}function y(a){let t=a;a?.type==="renderx-component"&&a?.component&&(t=a.component);const e=t?.template||{},c=t?.position||{x:0,y:0};return{component:{template:e},position:c}}function f(a){return a&&(a.tag||a.classRefs||a.layout)?n(a):a&&(a.template||a.position||a.type==="renderx-component")?y(a):{component:{template:{}},position:{x:0,y:0}}}export{i as attachStandardImportInteractions,g as createFromImportRecord,f as toCreatePayloadFromData,y as transformClipboardToCreatePayload,n as transformImportToCreatePayload};
