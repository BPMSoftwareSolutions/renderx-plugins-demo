import{ensureOverlayCss as u}from"./select.overlay.css.stage-crew-CJxa9lQN.js";function a(){const e=typeof document<"u"?document.getElementById("rx-canvas"):null;if(!e)throw new Error("#rx-canvas not found");return e}function f(){u();const e=a();let t=document.getElementById("rx-selection-overlay");if(!t){t=document.createElement("div"),t.id="rx-selection-overlay",t.className="rx-selection-overlay",t.style.boxSizing="border-box";const n=["nw","n","ne","e","se","s","sw","w"];for(const s of n){const o=document.createElement("div");o.className=`rx-handle ${s}`,t.appendChild(o)}e.appendChild(t)}return t}function h(){return a().getBoundingClientRect()}function g(e,t){const n=h(),s=parseFloat(t.style.left||""),o=parseFloat(t.style.top||""),i=parseFloat(t.style.width||""),l=parseFloat(t.style.height||"");if(Number.isFinite(s)&&Number.isFinite(o)&&Number.isFinite(i)&&Number.isFinite(l)){const c=(t.parentElement||a()).getBoundingClientRect(),d=s+(c.left-n.left),p=o+(c.top-n.top);Object.assign(e.style,{left:`${Math.round(d)}px`,top:`${Math.round(p)}px`,width:`${Math.round(i)}px`,height:`${Math.round(l)}px`,display:"block"});return}const r=t.getBoundingClientRect();Object.assign(e.style,{left:`${Math.round(r.left-n.left)}px`,top:`${Math.round(r.top-n.top)}px`,width:`${Math.round(r.width)}px`,height:`${Math.round(r.height)}px`,display:"block"})}export{g as applyOverlayRectForEl,f as ensureOverlay,a as getCanvasOrThrow,h as getCanvasRect};
