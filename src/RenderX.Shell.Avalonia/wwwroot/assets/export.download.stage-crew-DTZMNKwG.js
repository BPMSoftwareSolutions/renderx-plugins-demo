var t=async(d,o)=>{try{if(!o.payload.uiFileContent)throw new Error("No UI file content to download");if(typeof document>"u")throw new Error("Browser environment required for file download");const e=o.payload.uiFileContent,a=JSON.stringify(e,null,2),l=new Blob([a],{type:"application/json"}),n=URL.createObjectURL(l),r=document.createElement("a");r.href=n,r.download=`canvas-design-${Date.now()}.ui`,r.click(),URL.revokeObjectURL(n),o.payload.downloadTriggered=!0,o.logger?.info?.("UI file download triggered successfully (stage-crew)")}catch(e){o.logger?.error?.("Failed to download UI file:",e),o.payload.error=String(e),o.payload.downloadTriggered=!1}};export{t as downloadUiFile};
