import{e as M}from"./chunk-IJMTATCY-CvSs8J70.js";var f={},u={};function B(c,h){const{id:t,source:s}=c||{};if(!t){h.payload.selectionModel=null;return}const n=document.getElementById(String(t));if(!n){h.payload.selectionModel=null;return}let d;const g=u[t];if(g&&(s==="drag"||s==="resize"))d=g;else{const r=Array.from(n.classList).filter(y=>y.startsWith("rx-")&&y!=="rx-comp")[0];d=r?r.replace("rx-",""):"unknown",(s==="drag"||s==="resize")&&(u[t]=d)}const o=n.style,e=getComputedStyle(n);if(s==="drag"||s==="resize"){const a=c&&c.position,r=c&&c.size,y=a&&typeof a.x=="number"?a.x:parseFloat(o.left||e.left||"0"),C=a&&typeof a.y=="number"?a.y:parseFloat(o.top||e.top||"0");let i,l;if(s==="resize")if(r&&typeof r.width=="number"&&typeof r.height=="number")i=r.width,l=r.height,f[t]={width:i,height:l};else{const p=f[t];p?{width:i,height:l}=p:(i=parseFloat(o.width||e.width||"0"),l=parseFloat(o.height||e.height||"0"),f[t]={width:i,height:l})}else{const p=f[t];p?{width:i,height:l}=p:(i=parseFloat(o.width||e.width||"0"),l=parseFloat(o.height||e.height||"0"),f[t]={width:i,height:l})}h.payload.selectionModel={header:{type:d,id:t},layout:{x:y,y:C,width:i,height:l}},h.payload._source=s;return}const m=parseFloat(o.left||e.left||"0"),w=parseFloat(o.top||e.top||"0"),F=parseFloat(o.width||e.width||"0"),x=parseFloat(o.height||e.height||"0"),z=M(n,d),b={header:{type:d,id:t},content:z,layout:{x:m,y:w,width:F,height:x},styling:{"bg-color":e.backgroundColor||"#007acc","text-color":e.color||"#ffffff","border-radius":e.borderRadius||"4px","font-size":e.fontSize||"14px"},classes:Array.from(n.classList)};h.payload.selectionModel=b,h.payload._source=s}export{B as updateFromElement};
