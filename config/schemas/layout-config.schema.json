{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Layout Configuration Schema",
  "description": "Schema for defining layout algorithms and their parameters",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for this layout configuration"
    },
    "name": {
      "type": "string",
      "description": "Human-readable name for this layout"
    },
    "description": {
      "type": "string",
      "description": "Description of the layout algorithm"
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Semantic version of the layout configuration"
    },
    "algorithm": {
      "type": "string",
      "enum": ["grid", "radial", "layered", "force", "hierarchical", "circular", "custom"],
      "description": "Layout algorithm type"
    },
    "parameters": {
      "type": "object",
      "description": "Algorithm-specific parameters",
      "properties": {
        "spacingX": {
          "type": "number",
          "description": "Horizontal spacing between nodes",
          "minimum": 0
        },
        "spacingY": {
          "type": "number",
          "description": "Vertical spacing between nodes",
          "minimum": 0
        },
        "margin": {
          "type": "number",
          "description": "Margin around the layout",
          "minimum": 0
        },
        "padding": {
          "type": "number",
          "description": "Padding within nodes",
          "minimum": 0
        },
        "alignment": {
          "type": "string",
          "enum": ["start", "center", "end"],
          "description": "Node alignment within the layout"
        },
        "direction": {
          "type": "string",
          "enum": ["horizontal", "vertical", "auto"],
          "description": "Primary layout direction"
        },
        "wrap": {
          "type": "boolean",
          "description": "Whether to wrap nodes to new rows/columns"
        }
      }
    },
    "gridSpecific": {
      "type": "object",
      "description": "Grid layout specific parameters",
      "properties": {
        "columns": {
          "type": ["number", "string"],
          "description": "Number of columns or 'auto'"
        },
        "rows": {
          "type": ["number", "string"],
          "description": "Number of rows or 'auto'"
        },
        "aspectRatio": {
          "type": "number",
          "description": "Preferred aspect ratio for auto-sizing"
        }
      }
    },
    "radialSpecific": {
      "type": "object",
      "description": "Radial layout specific parameters",
      "properties": {
        "radius": {
          "type": "number",
          "description": "Radius of the radial layout",
          "minimum": 0
        },
        "startAngle": {
          "type": "number",
          "description": "Starting angle in degrees",
          "minimum": 0,
          "maximum": 360
        },
        "endAngle": {
          "type": "number",
          "description": "Ending angle in degrees",
          "minimum": 0,
          "maximum": 360
        },
        "centerNode": {
          "type": "string",
          "description": "ID of the node to place at center"
        }
      }
    },
    "layeredSpecific": {
      "type": "object",
      "description": "Layered/hierarchical layout specific parameters",
      "properties": {
        "layerSeparation": {
          "type": "number",
          "description": "Separation between layers",
          "minimum": 0
        },
        "nodeSeparation": {
          "type": "number",
          "description": "Separation between nodes in same layer",
          "minimum": 0
        },
        "rankDirection": {
          "type": "string",
          "enum": ["TB", "BT", "LR", "RL"],
          "description": "Direction of rank flow (Top-Bottom, Bottom-Top, Left-Right, Right-Left)"
        },
        "edgeRouting": {
          "type": "string",
          "enum": ["straight", "orthogonal", "curved"],
          "description": "Edge routing style"
        }
      }
    },
    "nodeDefaults": {
      "type": "object",
      "description": "Default node dimensions and styling",
      "properties": {
        "width": {
          "type": "number",
          "description": "Default node width",
          "minimum": 0
        },
        "height": {
          "type": "number",
          "description": "Default node height",
          "minimum": 0
        },
        "minWidth": {
          "type": "number",
          "description": "Minimum node width",
          "minimum": 0
        },
        "minHeight": {
          "type": "number",
          "description": "Minimum node height",
          "minimum": 0
        },
        "maxWidth": {
          "type": "number",
          "description": "Maximum node width",
          "minimum": 0
        },
        "maxHeight": {
          "type": "number",
          "description": "Maximum node height",
          "minimum": 0
        }
      }
    },
    "edgeDefaults": {
      "type": "object",
      "description": "Default edge styling and behavior",
      "properties": {
        "routing": {
          "type": "string",
          "enum": ["straight", "orthogonal", "curved", "bezier"],
          "description": "Default edge routing style"
        },
        "arrowHeads": {
          "type": "boolean",
          "description": "Whether to show arrow heads by default"
        },
        "labels": {
          "type": "boolean",
          "description": "Whether to show edge labels by default"
        }
      }
    }
  },
  "required": ["id", "name", "version", "algorithm", "parameters"]
}
