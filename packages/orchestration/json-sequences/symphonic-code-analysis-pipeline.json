{
  "id": "symphonic-code-analysis-pipeline",
  "sequenceId": "symphonic-code-analysis-pipeline",
  "name": "Symphonic Code Analysis Pipeline",
  "packageName": "orchestration",
  "title": "Symphonic Code Analysis Pipeline - Orchestration Code Metrics & Coverage",
  "description": "Multi-movement orchestration for comprehensive code analysis of symphonic orchestration codebases, measuring code metrics per beat, test coverage, complexity, and architectural conformity.",
  "kind": "orchestration",
  "status": "active",
  "movements": [
    {
      "name": "Code Discovery & Beat Mapping",
      "description": "Discover all source files, map them to orchestration beats, and collect baseline metrics",
      "beats": [
        {
          "name": "scan-orchestration-files",
          "description": "Scan JSON sequences and identify beat definitions, handlers, and event mappings",
          "handler": {
            "name": "analysis.discovery#scanOrchestrationFiles"
          }
        },
        {
          "name": "discover-source-code",
          "description": "Discover all TypeScript/JavaScript implementation files matching beat handlers",
          "handler": {
            "name": "analysis.discovery#discoverSourceCode"
          }
        },
        {
          "name": "map-beats-to-code",
          "description": "Create beat-to-handler-to-source-file mapping for correlation",
          "handler": {
            "name": "analysis.discovery#mapBeatsToCode"
          }
        },
        {
          "name": "collect-baseline",
          "description": "Establish baseline metrics for comparison and trend analysis",
          "handler": {
            "name": "analysis.discovery#collectBaseline"
          }
        }
      ]
    },
    {
      "name": "Code Metrics Analysis",
      "description": "Calculate LOC, complexity, duplication, and maintainability metrics per beat and movement",
      "beats": [
        {
          "name": "count-lines-of-code",
          "description": "Calculate LOC per beat, per movement, and per orchestration domain",
          "handler": {
            "name": "analysis.metrics#countLinesOfCode"
          }
        },
        {
          "name": "analyze-complexity",
          "description": "Calculate cyclomatic complexity, cognitive complexity per beat handler",
          "handler": {
            "name": "analysis.metrics#analyzeComplexity"
          }
        },
        {
          "name": "detect-duplication",
          "description": "Identify code duplication patterns and calculate duplication percentage",
          "handler": {
            "name": "analysis.metrics#detectDuplication"
          }
        },
        {
          "name": "calculate-maintainability",
          "description": "Compute maintainability index and technical debt score per module",
          "handler": {
            "name": "analysis.metrics#calculateMaintainability"
          }
        }
      ]
    },
    {
      "name": "Test Coverage Analysis",
      "description": "Measure statement, branch, function, and line coverage with mapping to beats",
      "beats": [
        {
          "name": "measure-statement-coverage",
          "description": "Identify test files and calculate statement coverage with beat correlation",
          "handler": {
            "name": "analysis.coverage#measureStatementCoverage"
          }
        },
        {
          "name": "measure-branch-coverage",
          "description": "Calculate branch coverage (if/else, switch paths) per beat",
          "handler": {
            "name": "analysis.coverage#measureBranchCoverage"
          }
        },
        {
          "name": "measure-function-coverage",
          "description": "Calculate function call coverage and handler execution coverage",
          "handler": {
            "name": "analysis.coverage#measureFunctionCoverage"
          }
        },
        {
          "name": "calculate-gap-analysis",
          "description": "Identify uncovered code and test gaps aligned with beats",
          "handler": {
            "name": "analysis.coverage#calculateGapAnalysis"
          }
        }
      ]
    },
    {
      "name": "Architecture Conformity & Reporting",
      "description": "Validate handler-to-beat mapping, calculate conformity score, generate reports and trends",
      "beats": [
        {
          "name": "validate-handler-mapping",
          "description": "Verify all beats have handlers and handlers have corresponding implementation",
          "handler": {
            "name": "analysis.conformity#validateHandlerMapping"
          }
        },
        {
          "name": "calculate-conformity-score",
          "description": "Synthesize all metrics into orchestration conformity and fractal architecture score (0-1)",
          "handler": {
            "name": "analysis.conformity#calculateConformityScore"
          }
        },
        {
          "name": "generate-trend-report",
          "description": "Compare current metrics to historical baselines and project trends",
          "handler": {
            "name": "analysis.conformity#generateTrendReport"
          }
        },
        {
          "name": "generate-analysis-report",
          "description": "Produce final markdown report with all metrics, diagrams, and recommendations",
          "handler": {
            "name": "analysis.conformity#generateAnalysisReport"
          }
        }
      ]
    }
  ]
}
