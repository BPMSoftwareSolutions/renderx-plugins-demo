<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="400" viewBox="0 0 800 400"
     xmlns="http://www.w3.org/2000/svg" role="img" aria-label="event-router-scene-6-school">
  <defs><linearGradient id="roadGradient" x1="0" y1="0" x2="1" y2="0"><stop offset="0" stop-color="#404040"/><stop offset="0.5" stop-color="#505050"/><stop offset="1" stop-color="#404040"/></linearGradient><linearGradient id="schoolGradient" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#CD853F"/><stop offset="1" stop-color="#8B4513"/></linearGradient><linearGradient id="roofGradient" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#8B0000"/><stop offset="1" stop-color="#654321"/></linearGradient><linearGradient id="courtyardGradient" x1="0" y1="0" x2="1" y2="0"><stop offset="0" stop-color="#C0C0C0"/><stop offset="1" stop-color="#A0A0A0"/></linearGradient><filter id="sceneShadow" x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000" flood-opacity="0.25"/></filter><filter id="schoolGlow"><feGaussianBlur stdDeviation="2" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter><filter id="celebrationGlow"><feGaussianBlur stdDeviation="4" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter><clipPath id="clip-scene-6-boundary">
      <rect x="20" y="20" width="760" height="360" 
            rx="8" ry="8"/>
    </clipPath>
</defs>
  
    <style>
      .active-glow rect { filter: url(#glow); stroke: #8b5cf6; }
      .connector { stroke-linecap: round; stroke-linejoin: round; }
      .boundary-title { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-weight: 600; }
      .flow-token { animation-fill-mode: forwards; }
      .boundary-contained { overflow: hidden; }
    </style>
  
  <rect x="0" y="0" width="100%" height="100%" fill="#87CEEB"/>
  
  <g id="scene-6-boundary" class="boundary boundary-contained" clip-path="url(#clip-scene-6-boundary)">
      <rect x="20" y="20" width="760" height="360" rx="8" style="fill:#E8F5E8;stroke:#4CAF50;stroke-width:2;label-color:#4CAF50;filter:url(#sceneShadow)" filter="url(#sceneShadow)"/>
      <text x="32" y="12" class="boundary-title" fill="#4CAF50" font-size="14">Scene 6: Final Destination (Application State Updated)</text>
    </g><rect id="sky-background" x="20" y="20" width="760" height="200" rx="0" style="fill:#87CEEB;stroke:none"></rect><rect id="ground" x="20" y="220" width="760" height="120" rx="0" style="fill:#4A6B3A;stroke:none"></rect><rect id="road-ending" x="20" y="252" width="400" height="60" rx="0" style="fill:url(#roadGradient);stroke:#606060;stroke-width:2"></rect><rect id="school-courtyard" x="420" y="252" width="360" height="60" rx="0" style="fill:url(#courtyardGradient);stroke:#606060;stroke-width:2"></rect><rect id="school-building" x="520" y="72" width="200" height="120" rx="0" style="fill:url(#schoolGradient);stroke:#8B4513;stroke-width:2;filter:url(#schoolGlow)"></rect><rect id="school-entrance" x="604" y="140" width="30" height="50" rx="8" style="fill:#4682B4;stroke:#2F4F4F;stroke-width:2"></rect><rect id="entrance-window" x="608" y="144" width="26" height="25" rx="8" style="fill:#87CEEB;stroke:#4682B4;stroke-width:1"></rect><rect id="school-window-1" x="540" y="92" width="20" height="20" rx="0" style="fill:#87CEEB;stroke:#4682B4;stroke-width:1"></rect><rect id="school-window-2" x="572" y="92" width="20" height="20" rx="0" style="fill:#87CEEB;stroke:#4682B4;stroke-width:1"></rect><rect id="school-window-3" x="652" y="92" width="20" height="20" rx="0" style="fill:#87CEEB;stroke:#4682B4;stroke-width:1"></rect><rect id="school-window-4" x="680" y="92" width="20" height="20" rx="0" style="fill:#87CEEB;stroke:#4682B4;stroke-width:1"></rect><rect id="flagpole" x="620" y="20" width="4" height="60" rx="0" style="fill:#8B4513;stroke:none"></rect><rect id="flag" x="624" y="24" width="30" height="20" rx="0" style="fill:#FF0000;stroke:none"></rect><text id="school-sign" x="620" y="200" style="fill:#333333;font-size:10;font-weight:bold;text-anchor:middle">ELEMENTARY SCHOOL</text><rect id="school-bus" x="272" y="220" width="120" height="40" rx="8" style="fill:#FFD700;stroke:#E6C200;stroke-width:2"></rect><text id="bus-label" x="332" y="236" style="fill:#000000;font-size:8;font-weight:bold;text-anchor:middle">SCHOOL BUS</text><rect id="child-1" x="400" y="292" width="8" height="16" rx="8" style="fill:#3B82F6;stroke:#1E3A8A;stroke-width:1"></rect><rect id="child-2" x="440" y="296" width="8" height="16" rx="8" style="fill:#10B981;stroke:#059669;stroke-width:1"></rect><rect id="child-3" x="500" y="300" width="8" height="16" rx="8" style="fill:#EF4444;stroke:#DC2626;stroke-width:1"></rect><rect id="child-4" x="600" y="304" width="8" height="16" rx="8" style="fill:#FBBF24;stroke:#F59E0B;stroke-width:1"></rect><circle id="celebration-balloon-1" cx="740" cy="172" r="4" style="fill:#FF6B6B;stroke:none;filter:url(#celebrationGlow)"></circle><circle id="celebration-balloon-2" cx="732" cy="180" r="3" style="fill:#4ECDC4;stroke:none;filter:url(#celebrationGlow)"></circle><circle id="celebration-balloon-3" cx="748" cy="180" r="3" style="fill:#45B7D1;stroke:none;filter:url(#celebrationGlow)"></circle><text id="sky-headline" x="400" y="60" style="fill:#1E3A56;font-size:24;font-weight:bold;text-anchor:middle;stroke:#FFFFFF;stroke-width:1">Destination reached.</text><text id="sky-description" x="276" y="84" style="fill:#3C556E;font-size:16;text-anchor:middle">Events arrive at the school â€” the application state is updated.</text><text id="scene-caption" x="236" y="340" style="fill:#4CAF50;font-size:14;font-weight:bold;text-anchor:middle">Destination reached: application state updated (successful delivery)</text>
  
</svg>