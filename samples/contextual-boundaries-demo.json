{
  "id": "slide-01-lanes",
  "canvas": { "width": 1200, "height": 680 },
  "bg": "#0f1116",
  "defs": {
    "filters": [
      "<filter id=\"laneShadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\"><feDropShadow dx=\"0\" dy=\"4\" stdDeviation=\"8\" flood-color=\"#000\" flood-opacity=\"0.35\"/></filter>",
      "<filter id=\"glow\"><feGaussianBlur stdDeviation=\"3\" result=\"b\"/><feMerge><feMergeNode in=\"b\"/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter>"
    ],
    "gradients": [
      "<linearGradient id=\"rail\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"0\"><stop offset=\"0\" stop-color=\"#7c3aed\"/><stop offset=\"1\" stop-color=\"#a78bfa\"/></linearGradient>"
    ]
  },
  "nodes": [
    {
      "kind": "boundary",
      "id": "lane.plugin",
      "title": "Plugin Context",
      "at": { "x": 48, "y": 72 },
      "size": { "width": 480, "height": 480 },
      "style": { "fill": "#141a24", "stroke": "#253146", "strokeWidth": 1.5, "labelColor": "#e6edf3" },
      "grid": { "cols": 3, "rowH": 120, "gutter": 16, "padding": 20 },
      "children": [
        { 
          "kind": "shape", 
          "id": "pkg.tile", 
          "shape": "roundedRect",
          "at": { "x": 20, "y": 20 }, 
          "size": { "width": 200, "height": 100 },
          "style": { "fill": "#1f2430", "stroke": "#384559" } 
        },
        { 
          "kind": "text", 
          "id": "pkg.title", 
          "at": { "x": 30, "y": 48 }, 
          "text": "Plugin Package",
          "style": { "fill": "#e6edf3", "fontSize": 16, "fontWeight": 700 } 
        },
        { 
          "kind": "shape", 
          "id": "manifest.tile", 
          "shape": "roundedRect",
          "at": { "x": 20, "y": 160 }, 
          "size": { "width": 200, "height": 100 },
          "style": { "fill": "#1f2430", "stroke": "#384559" } 
        },
        { 
          "kind": "text", 
          "id": "manifest.title", 
          "at": { "x": 30, "y": 188 }, 
          "text": "Plugin Manifest",
          "style": { "fill": "#e6edf3", "fontSize": 16, "fontWeight": 700 } 
        }
      ]
    },
    {
      "kind": "boundary",
      "id": "lane.host",
      "title": "Host Context",
      "at": { "x": 672, "y": 72 },
      "size": { "width": 480, "height": 480 },
      "style": { "fill": "#141a24", "stroke": "#253146", "strokeWidth": 1.5, "labelColor": "#e6edf3" },
      "grid": { "cols": 3, "rowH": 120, "gutter": 16, "padding": 20 },
      "children": [
        { 
          "kind": "shape", 
          "id": "handlers.tile", 
          "shape": "roundedRect",
          "at": { "x": 20, "y": 20 }, 
          "size": { "width": 220, "height": 100 },
          "style": { "fill": "#1f2430", "stroke": "#384559" } 
        },
        { 
          "kind": "text", 
          "id": "handlers.title", 
          "at": { "x": 30, "y": 48 }, 
          "text": "Handlers Export",
          "style": { "fill": "#e6edf3", "fontSize": 16, "fontWeight": 700 } 
        },
        { 
          "kind": "shape", 
          "id": "sdk.tile", 
          "shape": "roundedRect",
          "at": { "x": 20, "y": 160 }, 
          "size": { "width": 220, "height": 100 },
          "style": { "fill": "#1f2430", "stroke": "#384559" } 
        },
        { 
          "kind": "text", 
          "id": "sdk.title", 
          "at": { "x": 30, "y": 188 }, 
          "text": "Host SDK",
          "style": { "fill": "#e6edf3", "fontSize": 16, "fontWeight": 700 } 
        }
      ]
    }
  ],
  "ports": [
    { "id": "p.pkg.out", "nodeId": "pkg.tile", "side": "right", "offset": 50 },
    { "id": "p.manifest.out", "nodeId": "manifest.tile", "side": "right", "offset": 50 },
    { "id": "p.handlers.in", "nodeId": "handlers.tile", "side": "left", "offset": 50 },
    { "id": "p.sdk.in", "nodeId": "sdk.tile", "side": "left", "offset": 50 }
  ],
  "connectors": [
    { 
      "id": "c.pkg_to_handlers",
      "from": { "port": "p.pkg.out" }, 
      "to": { "port": "p.handlers.in" },
      "route": "orthogonal",
      "style": { "stroke": "url(#rail)", "strokeWidth": 2 } 
    },
    { 
      "id": "c.manifest_to_sdk",
      "from": { "port": "p.manifest.out" }, 
      "to": { "port": "p.sdk.in" },
      "route": "orthogonal",
      "style": { "stroke": "#8b5cf6", "strokeWidth": 2, "dashed": true },
      "label": "register()" 
    }
  ],
  "flows": [
    {
      "id": "flow.pkg_build",
      "path": "c.pkg_to_handlers",
      "token": { "size": 4, "color": "#d6bcfa", "trail": { "length": 120, "opacity": 0.3 } },
      "speed": 160,
      "loop": true,
      "activate": { "boundaryIds": ["lane.plugin", "lane.host"], "className": "active-glow" }
    }
  ]
}
