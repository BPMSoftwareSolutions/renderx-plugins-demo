{
  "authority": "docs/governance/orchestration-audit-system-project-plan.json",
  "domain": "root-file-governance",
  "version": "1.0.0",
  "timestamp": "2025-11-24T21:15:00Z",
  "description": "Authoritative rules for file placement in root directory",
  "rootFileGovernance": {
    "principle": "Only configuration files belong in root. Everything else has a designated home.",
    "enforcementLayers": [
      "Layer 1: ESLint rule (real-time IDE feedback)",
      "Layer 2: Pre-commit hook (blocks commits with violations)",
      "Layer 3: Pre-build check (prevents non-compliant builds)",
      "Layer 4: Build plugin (auto-redirects artifacts)",
      "Layer 5: CI/CD workflow (final check before merge)"
    ],
    "authorizedRootFiles": [
      {
        "name": "package.json",
        "type": "config",
        "category": "npm",
        "reason": "NPM requires package config in root",
        "mutable": true,
        "mutable_reason": "Updated by npm during dependency management"
      },
      {
        "name": "package-lock.json",
        "type": "config",
        "category": "npm",
        "reason": "NPM requires lock file in root",
        "mutable": true,
        "mutable_reason": "Updated by npm during installation"
      },
      {
        "name": "tsconfig.json",
        "type": "config",
        "category": "typescript",
        "reason": "TypeScript compiler requires in root for project-wide settings",
        "mutable": false
      },
      {
        "name": "tsconfig.base.json",
        "type": "config",
        "category": "typescript",
        "reason": "TypeScript base configuration referenced by tsconfig.json",
        "mutable": false
      },
      {
        "name": "tsconfig.tsbuildinfo",
        "type": "generated",
        "category": "typescript",
        "reason": "TypeScript incremental build info cache",
        "mutable": true,
        "mutable_reason": "Generated by tsc during compilation"
      },
      {
        "name": "README.md",
        "type": "documentation",
        "category": "meta",
        "reason": "GitHub displays README from root as project entry point",
        "mutable": true
      },
      {
        "name": "LICENSE",
        "type": "legal",
        "category": "meta",
        "reason": "Convention: License always in root",
        "mutable": false
      },
      {
        "name": ".env",
        "type": "config",
        "category": "runtime",
        "reason": "Environment variables loaded from root by dotenv tools",
        "mutable": true
      },
      {
        "name": ".env.example",
        "type": "template",
        "category": "runtime",
        "reason": "Example environment variables for project setup",
        "mutable": true
      },
      {
        "name": ".gitignore",
        "type": "config",
        "category": "vcs",
        "reason": "Git requires .gitignore in root for repository rules",
        "mutable": true
      },
      {
        "name": ".npmrc",
        "type": "config",
        "category": "npm",
        "reason": "NPM looks for .npmrc in root for npm configuration",
        "mutable": true
      },
      {
        "name": ".nvmrc",
        "type": "config",
        "category": "runtime",
        "reason": "Node version manager looks for .nvmrc in root",
        "mutable": true
      },
      {
        "name": "renderx-plugins-demo.sln",
        "type": "config",
        "category": "ide",
        "reason": "Visual Studio solution file must be in root",
        "mutable": false
      },
      {
        "name": "cypress.config.ts",
        "type": "config",
        "category": "testing",
        "reason": "Cypress automatically looks for cypress.config in root",
        "mutable": true
      },
      {
        "name": "eslint.config.js",
        "type": "config",
        "category": "linting",
        "reason": "ESLint v9+ requires eslint.config.js in root",
        "mutable": true
      },
      {
        "name": "vite.config.js",
        "type": "config",
        "category": "build",
        "reason": "Vite looks for vite.config in root for build configuration",
        "mutable": true
      },
      {
        "name": "vitest.config.ts",
        "type": "config",
        "category": "testing",
        "reason": "Vitest looks for vitest.config in root for test configuration",
        "mutable": true
      },
      {
        "name": "pyvenv.cfg",
        "type": "config",
        "category": "python",
        "reason": "Python venv stores config in root of virtual environment",
        "mutable": true,
        "mutable_reason": "Generated by python -m venv"
      }
    ],
    "allocationRules": {
      "logs": {
        "pattern": "*.log, *.txt (log content)",
        "location": ".logs/",
        "description": "Runtime logs, debug output, test logs"
      },
      "json_data": {
        "pattern": "*.json (data, not config)",
        "location": "docs/search/ or .generated/",
        "description": "Generated data, analysis results, indexes"
      },
      "json_config": {
        "pattern": "*.json (configuration)",
        "location": "docs/{domain}/",
        "description": "Governance configs, domain configs, manifests"
      },
      "scripts": {
        "pattern": "*.js, *.cjs, *.ts (executable)",
        "location": "scripts/{category}/",
        "description": "Tools, utilities, build scripts"
      },
      "python_tools": {
        "pattern": "*.py (Python scripts)",
        "location": "scripts/analysis/",
        "description": "Analysis tools, data processing"
      },
      "web_files": {
        "pattern": "*.html, *.svg (web assets)",
        "location": "public/",
        "description": "Web pages, demo files, public assets"
      },
      "documentation": {
        "pattern": "*.md (markdown)",
        "location": "docs/{domain}/",
        "description": "Project documentation by domain"
      },
      "build_artifacts": {
        "pattern": "Report files, generated content",
        "location": ".generated/",
        "description": "Build outputs, analysis reports, generated data"
      },
      "test_artifacts": {
        "pattern": "*.log (test results)",
        "location": ".logs/",
        "description": "Test run logs and output"
      }
    },
    "categoryMapping": {
      ".logs": {
        "files": [
          "*.log",
          "*-output.log",
          "*_startup.log",
          "*-trace.log",
          "*.txt (log content)"
        ],
        "description": "All runtime and test logs"
      },
      "docs/search": {
        "files": [
          "DOC_INDEX.json",
          "knowledge-index.json",
          "canvas_symphony_data.json",
          "public-api.hash.json",
          "root-context.json"
        ],
        "description": "Generated search indexes and data"
      },
      ".generated": {
        "files": [
          "*.report.json",
          "*-output.json",
          "*-analysis.json",
          "eslint-report*.json"
        ],
        "description": "Build artifacts and generated reports"
      },
      "docs/governance": {
        "files": [
          "PROJECT_*.json",
          "orchestration-*.json"
        ],
        "description": "Governance and authority configs"
      },
      "scripts/test": {
        "files": [
          "test-*.js",
          "test-*.cjs",
          "verify-*.cjs",
          "capture-*.cjs"
        ],
        "description": "Testing utilities and verification scripts"
      },
      "scripts/analysis": {
        "files": [
          "*.py",
          "analyze-*.js",
          "*_analyzer.py"
        ],
        "description": "Analysis and processing tools"
      },
      "scripts/maintenance": {
        "files": [
          "*.ps1",
          "fix-*.js",
          "cleanup-*.js"
        ],
        "description": "Maintenance and cleanup utilities"
      },
      "public": {
        "files": [
          "*.html",
          "index.html",
          "demo-*.html"
        ],
        "description": "Web files and public assets"
      },
      "docs/assets": {
        "files": [
          "*.svg",
          "*.png",
          "*.sketch.txt",
          "visualization-*.svg"
        ],
        "description": "Documentation assets and diagrams"
      }
    },
    "violationHandling": {
      "prevention": "ESLint rule catches during development",
      "preCommit": "Pre-commit hook prevents commits with violations",
      "preBuild": "Pre-build validation fails the build",
      "buildTime": "Build plugin auto-redirects to .generated/",
      "cicd": "CI/CD check fails PR merge",
      "autoFix": "npm run fix:root-file-violations"
    },
    "exceptionProcess": {
      "description": "If a file genuinely needs to be in root",
      "steps": [
        "1. Document the reason: Why does this need root access?",
        "2. Create RFC: docs/governance/RFC_ADD_ROOT_FILE.md",
        "3. Get approval: Code review on changes to this file",
        "4. Update authority: Add to authorizedRootFiles array",
        "5. Update enforcement: Update ESLint rule whitelist",
        "6. Commit: Record decision in git history"
      ]
    }
  },
  "id": "ROOT_FILE_PLACEMENT_RULES",
  "name": "unknown"
}